
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.5.3">
    
    
      
        <title>VPE IQ Tuning Guide - NT98336/NT98633 Documents</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.7a952b86.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="NT98336/NT98633 Documents" class="md-header__button md-logo" aria-label="NT98336/NT98633 Documents" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NT98336/NT98633 Documents
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              VPE IQ Tuning Guide
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="NT9833X_MD_User_Guide_en.html" class="md-tabs__link md-tabs__link--active">
        Software
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="not_ready - not_reay.md" class="md-tabs__link">
        Hardware(Not Ready)
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="not_ready - not_reay.md" class="md-tabs__link">
        For Reference(Not Ready)
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="NT98336/NT98633 Documents" class="md-nav__button md-logo" aria-label="NT98336/NT98633 Documents" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    NT98336/NT98633 Documents
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Software" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_1" type="checkbox" id="__nav_1_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_1">
          CVAI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="CVAI" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_1">
          <span class="md-nav__icon md-icon"></span>
          CVAI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="NT9833X_MD_User_Guide_en.html" class="md-nav__link">
        MD User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="NT9833X_IVE_User_Guide_en.html" class="md-nav__link">
        IVE User Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2" type="checkbox" id="__nav_1_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1_2">
          ISPQ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="ISPQ" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_2">
          <span class="md-nav__icon md-icon"></span>
          ISPQ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          VPE IQ Tuning Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="NT9833x_VPE_IQ_Tuning_Guide_en.html" class="md-nav__link md-nav__link--active">
        VPE IQ Tuning Guide
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-overview" class="md-nav__link">
    1 Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-system-control" class="md-nav__link">
    2 System Control
  </a>
  
    <nav class="md-nav" aria-label="2 System Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-parameter-description" class="md-nav__link">
    2.1 Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-setting-interface" class="md-nav__link">
    2.2 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="2.2 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-proc" class="md-nav__link">
    2.2.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="2.2.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpech_fd" class="md-nav__link">
    l /proc/videograph/vpe/ch_fd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpepipe_mode" class="md-nav__link">
    l /proc/videograph/vpe/pipe_mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-spatial-noise-reduction" class="md-nav__link">
    3 Spatial Noise Reduction
  </a>
  
    <nav class="md-nav" aria-label="3 Spatial Noise Reduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-overview" class="md-nav__link">
    3.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-parameter-description" class="md-nav__link">
    3.2 Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-setting-interface" class="md-nav__link">
    3.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="3.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-proc" class="md-nav__link">
    3.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="3.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpemrnrdump_info" class="md-nav__link">
    l /proc/videograph/vpe/mrnr/dump_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpemrnrmrnr_en" class="md-nav__link">
    l /proc/videograph/vpe/mrnr/mrnr_en
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpemrnrt_xx_edge_det" class="md-nav__link">
    l /proc/videograph/vpe/mrnr/t_xx_edge_det
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpemrnrt_xx_edge_smooth" class="md-nav__link">
    l /proc/videograph/vpe/mrnr/t_xx_edge_smooth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpemrnrnr_strength" class="md-nav__link">
    l /proc/videograph/vpe/mrnr/nr_strength
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-vendor-api" class="md-nav__link">
    3.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-temporal-noise-reduction-tmnr" class="md-nav__link">
    4 Temporal Noise Reduction (TMNR)
  </a>
  
    <nav class="md-nav" aria-label="4 Temporal Noise Reduction (TMNR)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-overview" class="md-nav__link">
    4.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-parameter-description" class="md-nav__link">
    4.2 Parameter description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-setting-interface" class="md-nav__link">
    4.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="4.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431-proc" class="md-nav__link">
    4.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="4.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrdump_info" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/dump_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrch_en_status" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/ch_en_status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrnr_strength" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/nr_strength
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnry_base" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/y_base
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrmotion_level_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/motion_level_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnry_coeffa" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/y_coeffa
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnry_coeffb" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/y_coeffb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnry_std" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/y_std
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrcb_mean" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/cb_mean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrcb_std" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/cb_std
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrcr_mean" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/cr_mean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrcr_std" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/cr_std
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrlut_y_3d_1_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/lut_y_3d_1_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrlut_y_3d_2_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/lut_y_3d_2_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrlut_y_2d_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/lut_y_2d_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrlut_c_3d_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/lut_c_3d_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrlut_c_2d_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/lut_c_2d_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrfcs_str" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/fcs_str
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrfcs_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/fcs_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrmotion_map" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/motion_map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrdiff_blur_str" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/diff_blur_str
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnravoid_residue_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/avoid_residue_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrdithering" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/dithering
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrerr_compensate" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/err_compensate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432-vendor-api" class="md-nav__link">
    4.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-sharpen-shp" class="md-nav__link">
    5 Sharpen (SHP)
  </a>
  
    <nav class="md-nav" aria-label="5 Sharpen (SHP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-overview" class="md-nav__link">
    5.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-setting-interface" class="md-nav__link">
    5.2 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="5.2 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#521-proc" class="md-nav__link">
    5.2.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="5.2.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpendump_info" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/dump_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpensharp_en" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/sharp_en
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenedge_weight_src_sel" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/edge_weight_src_sel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenedge_weigt_gain" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/edge_weigt_gain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenedge_weight_th" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/edge_weight_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenblend_inv_gamma" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/blend_inv_gamma
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenedge_sharp_str" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/edge_sharp_str
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenflat_sharp_str" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/flat_sharp_str
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpencoring_th" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/coring_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenhalo_clip" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/halo_clip
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpennoise_curve" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/noise_curve
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#522-vendor-api" class="md-nav__link">
    5.2.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-edge-smoothing-es" class="md-nav__link">
    6 Edge Smoothing (ES)
  </a>
  
    <nav class="md-nav" aria-label="6 Edge Smoothing (ES)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-overview" class="md-nav__link">
    6.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-parameter-description" class="md-nav__link">
    6.2 Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-setting-interface" class="md-nav__link">
    6.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="6.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#631-proc" class="md-nav__link">
    6.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="6.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesparam" class="md-nav__link">
    l /proc/videograph/vpe/es/param
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesedge_smooth_en" class="md-nav__link">
    l /proc/videograph/vpe/es/edge_smooth_en
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesedge_smooth_out_sel" class="md-nav__link">
    l /proc/videograph/vpe/es/edge_smooth_out_sel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesedge_smooth_th" class="md-nav__link">
    l /proc/videograph/vpe/es/edge_smooth_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesedge_smooth_y_edi_th" class="md-nav__link">
    l /proc/videograph/vpe/es/edge_smooth_y_edi_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesedge_smooth_y_ds_str" class="md-nav__link">
    l /proc/videograph/vpe/es/edge_smooth_y_ds_str
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#632-vendor-api" class="md-nav__link">
    6.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-scaling-sca" class="md-nav__link">
    7 Scaling (SCA)
  </a>
  
    <nav class="md-nav" aria-label="7 Scaling (SCA)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-overview" class="md-nav__link">
    7.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-parameter-description" class="md-nav__link">
    7.2 Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-setting-interface" class="md-nav__link">
    7.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="7.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#731-proc" class="md-nav__link">
    7.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="7.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpescaparam" class="md-nav__link">
    l /proc/videograph/vpe/sca/param
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpescactrl_param" class="md-nav__link">
    l /proc/videograph/vpe/sca/ctrl_param
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpescalpf_param" class="md-nav__link">
    l /proc/videograph/vpe/sca/lpf_param
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpescayuv_range" class="md-nav__link">
    l /proc/videograph/vpe/sca/yuv_range
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#732-vendor-api" class="md-nav__link">
    7.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-distortion-correction-engine-dce" class="md-nav__link">
    8 Distortion Correction Engine (DCE)
  </a>
  
    <nav class="md-nav" aria-label="8 Distortion Correction Engine (DCE)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-overview" class="md-nav__link">
    8.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-dce-parameter-description" class="md-nav__link">
    8.2 DCE Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-setting-interface" class="md-nav__link">
    8.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="8.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#831-proc" class="md-nav__link">
    8.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="8.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedcedump_info" class="md-nav__link">
    l /proc/videograph/vpe/dce/dump_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedcech_en" class="md-nav__link">
    l /proc/videograph/vpe/dce/ch_en
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#832-vendor-api" class="md-nav__link">
    8.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-dc-table-generatordctg" class="md-nav__link">
    9 DC Table Generator(DCTG)
  </a>
  
    <nav class="md-nav" aria-label="9 DC Table Generator(DCTG)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-overview" class="md-nav__link">
    9.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-parameter-description" class="md-nav__link">
    9.2 Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-setting-interface" class="md-nav__link">
    9.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="9.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#931-proc" class="md-nav__link">
    9.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="9.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedctgdump_info" class="md-nav__link">
    l /proc/videograph/vpe/dctg/dump_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedctgch_en" class="md-nav__link">
    l /proc/videograph/vpe/dctg/ch_en
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedctgphi" class="md-nav__link">
    l /proc/videograph/vpe/dctg/phi
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedctgrot" class="md-nav__link">
    l /proc/videograph/vpe/dctg/rot
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedctgtheta" class="md-nav__link">
    l /proc/videograph/vpe/dctg/theta
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#932-vendor-api" class="md-nav__link">
    9.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-revise-history" class="md-nav__link">
    10 Revise History
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="NT9833x_LCD_IQ_Tuning_Guide_en.html" class="md-nav__link">
        LCD IQ Tuning Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3" type="checkbox" id="__nav_1_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_3">
          MEDIA
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="MEDIA" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_3">
          <span class="md-nav__icon md-icon"></span>
          MEDIA
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Novatek%2BHDAL%2BDesign%2BSpecification%2B-%2Bhd_videodec.html" class="md-nav__link">
        HDAL hd_videodec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Novatek%2BHDAL%2BDesign%2BSpecification%2B-%2Bhd_videoenc.html" class="md-nav__link">
        HDAL hd_videoenc
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4" type="checkbox" id="__nav_1_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_4">
          OSDRV
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="OSDRV" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_4">
          <span class="md-nav__icon md-icon"></span>
          OSDRV
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="NT9833x_SDK_Pure_Linux_Programming_Guide_en.html" class="md-nav__link">
        Linux Programming Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Hardware(Not Ready)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hardware(Not Ready)" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Hardware(Not Ready)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Not Ready
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Not Ready" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Not Ready
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="not_ready - not_reay.md" class="md-nav__link">
        None
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          For Reference(Not Ready)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="For Reference(Not Ready)" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          For Reference(Not Ready)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Not Ready
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Not Ready" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Not Ready
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="not_ready - not_reay.md" class="md-nav__link">
        None
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-overview" class="md-nav__link">
    1 Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-system-control" class="md-nav__link">
    2 System Control
  </a>
  
    <nav class="md-nav" aria-label="2 System Control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-parameter-description" class="md-nav__link">
    2.1 Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-setting-interface" class="md-nav__link">
    2.2 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="2.2 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-proc" class="md-nav__link">
    2.2.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="2.2.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpech_fd" class="md-nav__link">
    l /proc/videograph/vpe/ch_fd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpepipe_mode" class="md-nav__link">
    l /proc/videograph/vpe/pipe_mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-spatial-noise-reduction" class="md-nav__link">
    3 Spatial Noise Reduction
  </a>
  
    <nav class="md-nav" aria-label="3 Spatial Noise Reduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-overview" class="md-nav__link">
    3.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-parameter-description" class="md-nav__link">
    3.2 Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-setting-interface" class="md-nav__link">
    3.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="3.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-proc" class="md-nav__link">
    3.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="3.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpemrnrdump_info" class="md-nav__link">
    l /proc/videograph/vpe/mrnr/dump_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpemrnrmrnr_en" class="md-nav__link">
    l /proc/videograph/vpe/mrnr/mrnr_en
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpemrnrt_xx_edge_det" class="md-nav__link">
    l /proc/videograph/vpe/mrnr/t_xx_edge_det
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpemrnrt_xx_edge_smooth" class="md-nav__link">
    l /proc/videograph/vpe/mrnr/t_xx_edge_smooth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpemrnrnr_strength" class="md-nav__link">
    l /proc/videograph/vpe/mrnr/nr_strength
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-vendor-api" class="md-nav__link">
    3.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-temporal-noise-reduction-tmnr" class="md-nav__link">
    4 Temporal Noise Reduction (TMNR)
  </a>
  
    <nav class="md-nav" aria-label="4 Temporal Noise Reduction (TMNR)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-overview" class="md-nav__link">
    4.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-parameter-description" class="md-nav__link">
    4.2 Parameter description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-setting-interface" class="md-nav__link">
    4.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="4.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431-proc" class="md-nav__link">
    4.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="4.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrdump_info" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/dump_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrch_en_status" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/ch_en_status
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrnr_strength" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/nr_strength
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnry_base" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/y_base
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrmotion_level_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/motion_level_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnry_coeffa" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/y_coeffa
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnry_coeffb" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/y_coeffb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnry_std" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/y_std
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrcb_mean" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/cb_mean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrcb_std" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/cb_std
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrcr_mean" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/cr_mean
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrcr_std" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/cr_std
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrlut_y_3d_1_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/lut_y_3d_1_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrlut_y_3d_2_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/lut_y_3d_2_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrlut_y_2d_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/lut_y_2d_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrlut_c_3d_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/lut_c_3d_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrlut_c_2d_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/lut_c_2d_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrfcs_str" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/fcs_str
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrfcs_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/fcs_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrmotion_map" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/motion_map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrdiff_blur_str" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/diff_blur_str
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnravoid_residue_th" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/avoid_residue_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrdithering" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/dithering
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpetmnrerr_compensate" class="md-nav__link">
    l /proc/videograph/vpe/tmnr/err_compensate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432-vendor-api" class="md-nav__link">
    4.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-sharpen-shp" class="md-nav__link">
    5 Sharpen (SHP)
  </a>
  
    <nav class="md-nav" aria-label="5 Sharpen (SHP)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-overview" class="md-nav__link">
    5.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-setting-interface" class="md-nav__link">
    5.2 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="5.2 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#521-proc" class="md-nav__link">
    5.2.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="5.2.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpendump_info" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/dump_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpensharp_en" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/sharp_en
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenedge_weight_src_sel" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/edge_weight_src_sel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenedge_weigt_gain" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/edge_weigt_gain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenedge_weight_th" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/edge_weight_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenblend_inv_gamma" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/blend_inv_gamma
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenedge_sharp_str" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/edge_sharp_str
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenflat_sharp_str" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/flat_sharp_str
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpencoring_th" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/coring_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpenhalo_clip" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/halo_clip
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpesharpennoise_curve" class="md-nav__link">
    l /proc/videograph/vpe/sharpen/noise_curve
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#522-vendor-api" class="md-nav__link">
    5.2.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-edge-smoothing-es" class="md-nav__link">
    6 Edge Smoothing (ES)
  </a>
  
    <nav class="md-nav" aria-label="6 Edge Smoothing (ES)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-overview" class="md-nav__link">
    6.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-parameter-description" class="md-nav__link">
    6.2 Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-setting-interface" class="md-nav__link">
    6.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="6.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#631-proc" class="md-nav__link">
    6.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="6.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesparam" class="md-nav__link">
    l /proc/videograph/vpe/es/param
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesedge_smooth_en" class="md-nav__link">
    l /proc/videograph/vpe/es/edge_smooth_en
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesedge_smooth_out_sel" class="md-nav__link">
    l /proc/videograph/vpe/es/edge_smooth_out_sel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesedge_smooth_th" class="md-nav__link">
    l /proc/videograph/vpe/es/edge_smooth_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesedge_smooth_y_edi_th" class="md-nav__link">
    l /proc/videograph/vpe/es/edge_smooth_y_edi_th
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpeesedge_smooth_y_ds_str" class="md-nav__link">
    l /proc/videograph/vpe/es/edge_smooth_y_ds_str
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#632-vendor-api" class="md-nav__link">
    6.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-scaling-sca" class="md-nav__link">
    7 Scaling (SCA)
  </a>
  
    <nav class="md-nav" aria-label="7 Scaling (SCA)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-overview" class="md-nav__link">
    7.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-parameter-description" class="md-nav__link">
    7.2 Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-setting-interface" class="md-nav__link">
    7.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="7.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#731-proc" class="md-nav__link">
    7.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="7.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpescaparam" class="md-nav__link">
    l /proc/videograph/vpe/sca/param
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpescactrl_param" class="md-nav__link">
    l /proc/videograph/vpe/sca/ctrl_param
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpescalpf_param" class="md-nav__link">
    l /proc/videograph/vpe/sca/lpf_param
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpescayuv_range" class="md-nav__link">
    l /proc/videograph/vpe/sca/yuv_range
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#732-vendor-api" class="md-nav__link">
    7.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-distortion-correction-engine-dce" class="md-nav__link">
    8 Distortion Correction Engine (DCE)
  </a>
  
    <nav class="md-nav" aria-label="8 Distortion Correction Engine (DCE)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-overview" class="md-nav__link">
    8.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-dce-parameter-description" class="md-nav__link">
    8.2 DCE Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-setting-interface" class="md-nav__link">
    8.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="8.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#831-proc" class="md-nav__link">
    8.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="8.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedcedump_info" class="md-nav__link">
    l /proc/videograph/vpe/dce/dump_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedcech_en" class="md-nav__link">
    l /proc/videograph/vpe/dce/ch_en
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#832-vendor-api" class="md-nav__link">
    8.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-dc-table-generatordctg" class="md-nav__link">
    9 DC Table Generator(DCTG)
  </a>
  
    <nav class="md-nav" aria-label="9 DC Table Generator(DCTG)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-overview" class="md-nav__link">
    9.1 Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-parameter-description" class="md-nav__link">
    9.2 Parameter Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-setting-interface" class="md-nav__link">
    9.3 Setting Interface
  </a>
  
    <nav class="md-nav" aria-label="9.3 Setting Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#931-proc" class="md-nav__link">
    9.3.1 Proc
  </a>
  
    <nav class="md-nav" aria-label="9.3.1 Proc">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedctgdump_info" class="md-nav__link">
    l /proc/videograph/vpe/dctg/dump_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedctgch_en" class="md-nav__link">
    l /proc/videograph/vpe/dctg/ch_en
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedctgphi" class="md-nav__link">
    l /proc/videograph/vpe/dctg/phi
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedctgrot" class="md-nav__link">
    l /proc/videograph/vpe/dctg/rot
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#l-procvideographvpedctgtheta" class="md-nav__link">
    l /proc/videograph/vpe/dctg/theta
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#932-vendor-api" class="md-nav__link">
    9.3.2 Vendor API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-revise-history" class="md-nav__link">
    10 Revise History
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>VPE IQ Tuning Guide</h1>

<p>VPE IQ Tuning Guide</p>
<h2 id="1-overview">1 Overview<a class="headerlink" href="#1-overview" title="Permanent link">&para;</a></h2>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image002.jpg" /></p>
<p>Figure 1?1 NT9833x Video Flow</p>
<p>VPE is an independent image processing engine in YUV domain, and it performs some pre-processing process before LCD display or encoder to improve the image quality. The related modules are as follows:</p>
<p>l Spatial Noise Reduction Module(SPNR, using MRNR method)</p>
<p>l Tempoarl Noise Reduction Module(TMNR)</p>
<p>l Sharpen Module(SHP)</p>
<p>l Scaling Module(SCA)</p>
<p> The 9833x series has removed DCE and DCTG.</p>
<p> In the following description, the area shown in blue is the same module as the 9831x series but the parameters are different. Please pay special attention)</p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image003.jpg" /></p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image004.jpg" /></p>
<p>Figure 1?2  VPE Image Processing Flow</p>
<h2 id="2-system-control">2 System Control<a class="headerlink" href="#2-system-control" title="Permanent link">&para;</a></h2>
<p>The processing sequence of Sharpen, SPNR(using MRNR method) and TMNR is changeable, and user can change the processing sequence depends on different camera charateristic to achieve the best image quality.</p>
<h3 id="21-parameter-description">2.1 Parameter Description<a class="headerlink" href="#21-parameter-description" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Parameter</strong></td>
<td><strong>Range</strong></td>
<td><strong>Def</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td>ch_fd</td>
<td></td>
<td></td>
<td>Video graph use ch_fd to represent the connected video engine of each channel. User can fine tune parameter of each video engine by setting ch_fd.</td>
</tr>
<tr>
<td>pipe_mode</td>
<td>0~5</td>
<td>0</td>
<td>Set module processing sequence.<br><br>0 : MRNR -&gt; TMNR -&gt; Sharpen<br><br>1 : MRNR-&gt; Sharpen -&gt; TMNR<br><br>2 : Sharpen -&gt; MRNR -&gt; TMNR<br><br>3 : SHP-&gt;TMNR-&gt;MRNR  <br>4 :?TMNR-&gt;MRNR-&gt;SHP  <br>5 : TMNR-&gt;SHP-&gt;MRNR</td>
</tr>
</tbody>
</table>
<h3 id="22-setting-interface">2.2 Setting Interface<a class="headerlink" href="#22-setting-interface" title="Permanent link">&para;</a></h3>
<h4 id="221-proc">2.2.1 Proc<a class="headerlink" href="#221-proc" title="Permanent link">&para;</a></h4>
<h6 id="l-procvideographvpech_fd">l /proc/videograph/vpe/ch_fd<a class="headerlink" href="#l-procvideographvpech_fd" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the current camera channel, and it only needs to set once, the following SHP, MRNR, TMNR parameters will work on this channel.</p>
<p>The following proc command will list all ch_fd of the current video engine:</p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image005.png" /></p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [fd ] &gt; /proc/videograph/vpe/ch_fd</td>
<td><strong>Fw Internal Pointer</strong></td>
</tr>
</tbody>
</table>
<p>Read : cat /proc/videograph/vpe/ch_fd</p>
<p><strong><img alt=": Command : echo [fd] &gt; /proc/videograph/vpe/ch_fd
Current channel = &lt;ch_fd&gt;
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image006.png" /></strong></p>
<h6 id="l-procvideographvpepipe_mode">l /proc/videograph/vpe/pipe_mode<a class="headerlink" href="#l-procvideographvpepipe_mode" title="Permanent link">&para;</a></h6>
<p>[Description]</p>
<p>Read or write the executing sequence of SHP, MRNR and TMNR.</p>
<p>[Command]</p>
<p>Write :</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [pipe_mode ] &gt; /proc/videograph/vpe/pipe_mode</td>
<td><strong>src_ppo_idx????????</strong><br><br><strong>mrnr_ppi_idx????</strong><br><br><strong>mrnr_ppo_idx???</strong><br><br><strong>tmnr_ppi_idx?????</strong><br><br><strong>tmnr_ppo_idx????</strong><br><br><strong>shp_ppi_idx????????</strong><br><br><strong>shp_ppo_idx???????</strong><br><br><strong>sca_ppi_idx</strong></td>
</tr>
</tbody>
</table>
<p>Read : cat /proc/videograph/vpe/pipe_mode</p>
<p><img alt=": Command : echo [pipe_mode] &gt; /proc/videograph/vpe/pipe_mode
Current pipe_mode = [pipe_mode]
mode :
0 : MRNR-&gt; TMNR-&gt; SHP
1 : MRNR-&gt; SHP-&gt;TMNR
2 : SHP-&gt; MRNR -&gt; TMNR
3 : SHP-&gt;TMNR-&gt;MRNR
4 : TMNR-&gt;MRNR-&gt;SHP
5 : TMNR-&gt;SHP-&gt;MRNR
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image007.png" /></p>
<h2 id="3-spatial-noise-reduction">3 Spatial Noise Reduction<a class="headerlink" href="#3-spatial-noise-reduction" title="Permanent link">&para;</a></h2>
<p>This is spatial noise reduction module(abbreviation is SPNR). It will divide the image into high frequency part and middle frequency part, performing noise reduction process respectively, then combine together to achieve the purpose of noise reduction and retain detail.?</p>
<h3 id="31-overview">3.1 Overview<a class="headerlink" href="#31-overview" title="Permanent link">&para;</a></h3>
<p>Major processing flow is as follows :</p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image008.png" /></p>
<p>Figure 3?1 The SPNR processing flow.</p>
<p>Major processing flow :</p>
<ol>
<li>
<p>Divide the input image into high frequency image and middle frequency image.</p>
</li>
<li>
<p>Determine and label whether the processing pixel is on the edge.</p>
</li>
<li>
<p>Perform edge smooth process on high frequency image and middle frequency image, respectively.</p>
</li>
<li>
<p>Perform flat region noise reduction process on middle frequency image.</p>
</li>
<li>
<p>Use high/middle frequency image which had performed noise reduction process to reconstruct image.</p>
</li>
</ol>
<h3 id="32-parameter-description">3.2 Parameter Description<a class="headerlink" href="#32-parameter-description" title="Permanent link">&para;</a></h3>
<p>(The blue text is the part of the parameter difference between this module and the 9831x series, please pay special attention)</p>
<p>Table 3?1 SPNR Parameter List</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Parameter</strong></td>
<td><strong>Range</strong></td>
<td><strong>Def</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td>t_y_edge_detection [2][8]</td>
<td>0~1023</td>
<td>161,322,483,447,<br><br>419,320,195,130,<br><br>108,215,308,272,<br><br>246,185,125,100</td>
<td>Y threshold for determining whether the current processing pixel is on the edge.<br><br>It has eight thresholds mapping to pixel brightness from dark to bright, respectively.<br><br>[0][0~7] is the threshold from dark to bright for high frequency image.<br><br>[1][0~7] is the threshold from dark to bright for middle frequency image.</td>
</tr>
<tr>
<td>t_cb_edge_detection</td>
<td>0~1023</td>
<td>0,249</td>
<td>Cb threshold for determining whether the current processing pixel is on the edge. Only works in middle frequency image.</td>
</tr>
<tr>
<td>t_cr_edge_detection [2]</td>
<td>0~1023</td>
<td>0,249</td>
<td>Cr threshold for determining whether the current processing pixel is on the edge. Only works in middle frequency image.</td>
</tr>
<tr>
<td>t_y_edge_smoothing[2][8]</td>
<td>0~255</td>
<td>66,132,161,149,<br><br>140,107,80,53,<br><br>44,88,103,91,<br><br>82,62,51,41</td>
<td>Y threshold for determining whether it will perform smooth process.<br><br>It has eight thresholds mapping to pixel brightness from dark to bright, respectively.<br><br>[0][0~7] is the threshold from dark to bright for high frequency image.<br><br>[1][0~7] is the threshold from dark to bright for middle frequency image.</td>
</tr>
<tr>
<td>t_cb_edge_smoothing [2]</td>
<td>0~255</td>
<td>0,153</td>
<td>Cb threshold for determining whether it will perform smooth process. Only works in middle frequency image.</td>
</tr>
<tr>
<td>t_cr_edge_smoothing [2]</td>
<td>0~255</td>
<td>0,153</td>
<td>Cr threshold for determining whether it will perform smooth process. Only works in middle frequency image.</td>
</tr>
<tr>
<td>nr_strength_y[2]</td>
<td>0~15</td>
<td>{0, 0}</td>
<td>The denoise strength of spatial domain on Y channel.<br><br>[0] is denoise strength for high frequency image.<br><br>[1] is denoise strength for middle frequency image.</td>
</tr>
<tr>
<td>nr_strength_c</td>
<td>0~15</td>
<td>{0, 10}</td>
<td>The denoise strength of spatial domain on Cb/Cr channel. Only works in middle frequency image.</td>
</tr>
</tbody>
</table>
<p><strong>Advance description</strong>:</p>
<p>l edge_smoothing?: When SPNR performs smooth process, it will calculate weighting sum of neighbor pixels along the edge direction, if the difference between the neighbor pixel and center pixel is larger than threshold, this neighbor pixel will not be used in the smooth process. The smooth process of Y/Cb/Cr are the same.</p>
<h3 id="33-setting-interface">3.3 Setting Interface<a class="headerlink" href="#33-setting-interface" title="Permanent link">&para;</a></h3>
<h4 id="331-proc">3.3.1 Proc<a class="headerlink" href="#331-proc" title="Permanent link">&para;</a></h4>
<h6 id="l-procvideographvpemrnrdump_info">l /proc/videograph/vpe/mrnr/dump_info<a class="headerlink" href="#l-procvideographvpemrnrdump_info" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read all SPNR(using MRNR method) parameters of the current camera channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write : Not support.</strong></p>
<p><strong>Read : cat /proc/videograph/vpe/mrnr/dump_info</strong></p>
<p><strong>Output:</strong> <strong><img alt=": channel &lt;ch_no&gt; = enable/disable
t_y_edge_detection[0][8] = t_y_edge_detection[0][0] .[0][7]
t_y_edge_detection[1][8] = t_y_edge_detection[1][0] .[1][7]
t_cb_edge_detection = t_cb_edge_detection
t_cr_edge_detection = t_cr_edge_detection
t_y_edge_smoothing[0][8] = t_y_edge_smoothing[0][0][0][7]
t_y_edge_smoothing[1][8] = t_y_edge_smoothing[1][0][1][7]
t_cb_edge_smoothing = t_cb_edge_smoothing
t_cr_edge_smoothing = t_cr_edge_smoothing
nr_strength_y[2] = nr_strength_y[0], nr_strength_y[0]
nr_strength_c = nr_strength_c
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image009.png" /></strong></p>
<h6 id="l-procvideographvpemrnrmrnr_en">l /proc/videograph/vpe/mrnr/mrnr_en<a class="headerlink" href="#l-procvideographvpemrnrmrnr_en" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the MRNR enable status of the current camera channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td><strong>echo [mrnr_en (0~1)] &gt; /proc/videograph/vpe/mrnr/mrnr_en</strong></td>
<td><strong>mrnr_en</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read : cat /proc/videograph/vpe/mrnr/mrnr_en</strong></p>
<p><strong>Output:</strong> <strong><img alt=": Command : echo [ch_en (0~1)] &gt; /proc/videograph/vpe/mrnr/mrnr_en" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image010.png" /></strong></p>
<h6 id="l-procvideographvpemrnrt_xx_edge_det">l /proc/videograph/vpe/mrnr/t_xx_edge_det<a class="headerlink" href="#l-procvideographvpemrnrt_xx_edge_det" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write edge_detection parameters.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [t_y_edge_det[0][0] ..[0][7]] &gt; /proc/videograph/vpe/mrnr/ t_y_edge_det_1</td>
<td><strong>t_y_edge_detection[0~7]</strong></td>
</tr>
<tr>
<td>echo [t_y_edge_det[1][0] ..[1][7]] &gt; /proc/videograph/vpe/mrnr/ t_y_edge_det_2</td>
<td><strong>t_y_edge_detection[8~15]</strong></td>
</tr>
<tr>
<td>echo [t_cb_edge_det] &gt; /proc/videograph/vpe/mrnr/ t_cb_edge_det</td>
<td><strong>t_cb_edge_detection[0~1]</strong></td>
</tr>
<tr>
<td>echo [t_cr_edge_det] &gt; /proc/videograph/vpe/mrnr/ t_cr_edge_det</td>
<td><strong>t_cr_edge_detection[0~1]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/mrnr/</strong>t_y_edge_det_1</p>
<p><strong>cat /proc/videograph/vpe/mrnr/</strong>t_y_edge_det_2</p>
<p><strong>cat /proc/videograph/vpe/mrnr/</strong>t_cb_edge_det_1</p>
<p><strong>cat /proc/videograph/vpe/mrnr/</strong>t_cr_edge_det_1</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command :
echo [t_y_edge_det[0][0] .. [0][7] &gt; /proc/videograph/vpe/mrnr/ t_y_edge_det_1
echo [t_y_edge_det[1][0] .. [0][7] &gt; /proc/videograph/vpe/mrnr/ t_y_edge_det_2
echo [t_cb_edge_det &gt; /proc/videograph/vpe/mrnr/ t_cb_edge_det
echo [t_cr_edge_det &gt; /proc/videograph/vpe/mrnr/ t_cr_edge_det
===============================================================
t_y_edge_det1 = t_y_edge_detection [0] [0] .[0][7]
t_y_edge_det2 = t_y_edge_detection [1] [0].. [0][7]
t_cb_edge_det = t_cb_edge_detection
t_cr_edge_det = t_cb_edge_detection 
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image011.png" /></strong></p>
<h6 id="l-procvideographvpemrnrt_xx_edge_smooth">l /proc/videograph/vpe/mrnr/t_xx_edge_smooth<a class="headerlink" href="#l-procvideographvpemrnrt_xx_edge_smooth" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write edge_smoothing parameters.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [t_y_edge_smooth[0][0]] ..[t_y_edge_smooth [0][7]] &gt; /proc/videograph/vpe/mrnr/ t_y_edge_smooth_1</td>
<td><strong>t_y_edge_ smoothing[0~7]</strong></td>
</tr>
<tr>
<td>echo [t_y_edge_smooth[1][0] .. [t_y_edge_smooth[1] [7]] &gt; /proc/videograph/vpe/mrnr/t_y_edge_smooth_2</td>
<td><strong>t_y_edge_ smoothing[8~16]</strong></td>
</tr>
<tr>
<td>echo [t_cb_edge_smooth] &gt; /proc/videograph/vpe/mrnr/ t_cb_edge_smooth</td>
<td><strong>t_cb_edge_smoothing[0~1]</strong></td>
</tr>
<tr>
<td>echo [t_cr_edge_smooth] &gt; /proc/videograph/vpe/mrnr/ t_cr_edge_smooth</td>
<td><strong>t_cr_edge_ smoothing[0~1]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/mrnr/t_y_edge_smooth_1</p>
<p>cat /proc/videograph/vpe/mrnr/t_y_edge_smooth_2</p>
<p>cat /proc/videograph/vpe/mrnr/t_cb_edge_smooth</p>
<p>cat /proc/videograph/vpe/mrnr/t_cr_edge_smooth</p>
<p><strong>Output :</strong></p>
<p>**![: Command :
echo [t_y_edge_smooth[0]] .. [t_y_edge_smooth [7]] &gt; /proc/videograph/vpe/mrnr/t_y_edge_smooth_1

===============================================================</p>
<p>t_y_edge_smooth1 = t_y_edge_smoothing[0][0] . [0][7]
t_y_edge_smooth1 = t_y_edge_smoothing [1][0].. [0][7]
t_cb_edge_smooth = t_cb_edge_smoothing
t_cr_edge_smooth = t_cr_edge_smoothing
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image012.png)**</p>
<h6 id="l-procvideographvpemrnrnr_strength">l /proc/videograph/vpe/mrnr/nr_strength<a class="headerlink" href="#l-procvideographvpemrnrnr_strength" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write nr_strength parameters on Y/C channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [strength_y[0]] [strength_y [1]] [strength_c] &gt; /proc/videograph/vpe/mrnr/nr_strength</td>
<td><strong>nr_strength_y[0~1], nr_strength_c</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read : cat /proc/videograph/vpe/mrnr/ nr_strength</strong></p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command :
echo [strength_y[0]] [strength_y [1]] [strength_c]] &gt; /proc/videograph/vpe/mrnr/nr_strength ===============================================================
nr_strength_y = nr_strength_y[0], strength_y [1]
nr_strength_c= nr_strength_c
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image013.png" /></strong></p>
<h4 id="332-vendor-api">3.3.2 Vendor API<a class="headerlink" href="#332-vendor-api" title="Permanent link">&para;</a></h4>
<p><strong>[Description]</strong></p>
<p>Get and set the 2DNR parameters corresponding to current path_id.</p>
<p><strong>[Command]</strong></p>
<p>??????? <strong>Get</strong><strong></strong></p>
<p>HD_RESULT vendor_video_get(HD_PATH_ID path_id, VENDOR_VIDEO_DN_2D, VENDOR_VIDEO_PARAM_MRNR *p_param);</p>
<p><strong>??????? Set</strong><strong></strong></p>
<p>HD_RESULT vendor_video_set(HD_PATH_ID path_id, VENDOR_VIDEO_DN_2D, VENDOR_VIDEO_PARAM_MRNR *p_param);</p>
<p><strong>[Definition]</strong></p>
<p><strong><img alt=": typedef struct _VENDOR_VIDEO_MRNR {
    UINT32 mrnr_en;                     ///&lt; MRNR ON/OFF
    UINT32 t_y_edge_detection[2][8];    ///&lt; Edge pixel detection threshold of Y{layer1~layer2}, 0~1023
    UINT32 t_cb_edge_detection;         ///&lt; Edge pixel detection threshold of Cb{layer2}, 0~1023
    UINT32 t_cr_edge_detection;         ///&lt; Edge pixel detection threshold of Cr{layer2}, 0~1023
    UINT32 t_y_edge_smoothing[2][8];    ///&lt; Edge pixel smoothing threshold of Y: {layer1~layer2}, 0~255
    UINT32 t_cb_edge_smoothing;         ///&lt; Edge pixel smoothing threshold of Cb: {layer2}, 0~255
    UINT32 t_cr_edge_smoothing;         ///&lt; Edge pixel smoothing threshold of Cr: {layer2}, 0~255
    UINT32 nr_strength_y[2];          ///&lt; Strength of noise reduction of Y: {layer1~layer2}, 0~15
    UINT32 nr_strength_c;               ///&lt; Strength of noise reduction of CbCr: {layer2}, 0~15
} VENDOR_VIDEO_PARAM_MRNR;
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image014.png" /></strong></p>
<h2 id="4-temporal-noise-reduction-tmnr">4 Temporal Noise Reduction (TMNR)<a class="headerlink" href="#4-temporal-noise-reduction-tmnr" title="Permanent link">&para;</a></h2>
<p>This is temporal noise reduction module(abbreviation is TMNR). The major function is to eliminate temporal noise in the image.</p>
<h3 id="41-overview">4.1 Overview<a class="headerlink" href="#41-overview" title="Permanent link">&para;</a></h3>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image015.png" /></p>
<p>The concept of TMNR algorithm is to determine whether the pixel status is static(MotionLevel=0) or motion(MotionLevel=2) by Motion Detect module. The static region perform 3DNR to reduce the temporal noise, and the motion region will not perform 3DNR to prevent from having ghost, instead, it will perform 2DNR to reduce noise. The transition region between static region and motion region will combine the result of 2DNR and 3DNR by weighting.</p>
<h3 id="42-parameter-description">4.2 Parameter description<a class="headerlink" href="#42-parameter-description" title="Permanent link">&para;</a></h3>
<p>(The blue text is the part of the parameter difference between this module and the 9831x series, please pay special attention)</p>
<p>Table 4?1  TMNR Parameter List</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Parameter</strong></td>
<td><strong>Range</strong></td>
<td><strong>Default</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><strong><em>tmnr_en</em></strong></td>
<td>0~1</td>
<td>1</td>
<td>TMNR ON/OFF</td>
</tr>
<tr>
<td><strong><em>luma_dn_en</em></strong></td>
<td>0~1</td>
<td>1</td>
<td>Y channel TMNR ON/OFF</td>
</tr>
<tr>
<td><strong><em>chroma_dn_en</em></strong></td>
<td>0~1</td>
<td>1</td>
<td>Cb/Cr channel TMNR ON/OFF</td>
</tr>
<tr>
<td><strong><em>tmnr_fcs_en</em></strong></td>
<td>0~1</td>
<td>0</td>
<td>Temporal de-false color function ON/OFF<br><br>It only works when chroma_dn_en is set to 1.<br><br>Please refer to advance description.</td>
</tr>
<tr>
<td><strong><em>nr_str_y_3d</em></strong></td>
<td>0~32</td>
<td>8</td>
<td>Y channel temporal NR strength</td>
</tr>
<tr>
<td><strong><em>nr_str_y_2d</em></strong></td>
<td>0~32</td>
<td>16</td>
<td>Y channel spatial NR strength of motion object</td>
</tr>
<tr>
<td><strong><em>nr_str _c_3d</em></strong></td>
<td>0~32</td>
<td>16</td>
<td>Cb/Cr channel temporal NR strength</td>
</tr>
<tr>
<td><strong><em>nr_str _c_2d</em></strong></td>
<td>0~32</td>
<td>16</td>
<td>Cb/Cr channel spatial NR strength of motion object</td>
</tr>
<tr>
<td><strong><em>blur_str_y</em></strong></td>
<td>0~2</td>
<td>1</td>
<td>Y image blurred strength<br><br>0: No blur<br><br>1: low-strength blur<br><br>2: high-strength blur<br><br>It is recommend to set enable, if the executing sequence of 3DNR is after Sharpness; otherwise, it is recommend to set disable. For DVR/NVR application, due to in most case the front-end camera had perfomed sharpen process, it is recommend to set 1.</td>
</tr>
<tr>
<td><strong><em>center_wzero_y_2d_en</em></strong></td>
<td>0~1</td>
<td>1</td>
<td>Set to enable represents when performing the 2DNR, the weighting of center point is 0. It will increase NR strength, but might lose detail. Due to 2DNR only works on motion region, the detail loss is not obvious, it is recommend to fix enable.</td>
</tr>
<tr>
<td><strong><em>center_wzero_y_3d_en</em></strong></td>
<td>0~1</td>
<td>1</td>
<td>Set to enable represents when performing 3DNR, the weighting of center point is 0. It is recommend to fix enable.</td>
</tr>
<tr>
<td><strong><em>small_vibrat_supp_y_en</em></strong></td>
<td>0~1</td>
<td>0</td>
<td>Y channel small vibration suppresiioon ON/OFF. This function will enhance suppression on small vibration noise to make the image more stable. However, it also causes slower ghost removal. It is recommend to enable at normal luminance, and disable at dark luminance.</td>
</tr>
<tr>
<td><strong><em>avoid_residue_th_y</em></strong></td>
<td>1~4</td>
<td>2</td>
<td>Upper threshold for Y channel small noise putting back.<br><br>If <strong>err_compen</strong><strong><em>sate</em></strong> = 0, bigger this value will cause smaller temporal noise. On the other hand, if err_compensate = 1, bigger this value will cause bigger temporal noise.</td>
</tr>
<tr>
<td><strong><em>avoid_residue_th_c</em></strong></td>
<td>1~4</td>
<td>1</td>
<td>Upper threshold for Vb/Cr channel small noise putting back.<br><br>If <strong>err_compensate</strong> = 0, bigger this value will cause smaller temporal noise. On the other hand, if err_compensate = 1, bigger this value will cause bigger temporal noise.</td>
</tr>
<tr>
<td><strong><em>display_motion_map_en</em></strong></td>
<td>0~1</td>
<td>0</td>
<td>Debug mode. Show motion detection result on the image to assist to judge the correctness of motion detect parameters.<br><br>Please refer to advance description.</td>
</tr>
<tr>
<td><strong><em>motion_map_channel</em></strong></td>
<td>0~4</td>
<td>0</td>
<td>Select debug signal channel.<br><br>0: Y channel<br><br>1: Cb channel<br><br>2: Cr channel<br><br>3: temporal de-false color Cb channel<br><br>4: temporal de-false color Cr channel</td>
</tr>
<tr>
<td><strong><em>y_base[8]</em></strong></td>
<td>0~16320</td>
<td>{146,147,107,110,102,104,104,104}</td>
<td>y_base[0]-[7] are NoiseSAD mapping to pixel brightness from dark to bright. When performing 2DNR, the internal algorithm will automatically fine tune strength based on y_base. The larger the y_base, the stronger strength of 2DNR of motion object. It is recommend to increase y_base as sensor gain increases.</td>
</tr>
<tr>
<td><strong><em>motion_level_th_y_k1</em></strong></td>
<td>0~32</td>
<td>8</td>
<td>Threshold (motion_level_th_y_k1*Y_NOISE) for determining transition region on Y channel. Y_NOISE please refer to advance description.</td>
</tr>
<tr>
<td><strong><em>motion_level_th_y_k2</em></strong></td>
<td>0~32</td>
<td>8</td>
<td>Threshold (motion_level_th_y_k2*Y_NOISE) for determining motion region on Y channel.<br><br>K2 must larger or equal to K1.</td>
</tr>
<tr>
<td><strong><em>y_coefa[8]</em></strong></td>
<td>0~48</td>
<td>{0,0,0,0,0,0,0,0}</td>
<td>The slope of NoiseSAD from flat region to detail region on Y channel. y_coefa[0]-[7] mapping to pixel brightness from dark to bright.</td>
</tr>
<tr>
<td><strong><em>y_coefb[8]</em></strong></td>
<td>0~16320</td>
<td>{27,27,20,12,7,10,10,10}</td>
<td>NoiseSAD of flat region on Y channel. y_coefb[0]-[7] mapping to pixel brightness from dark to bright.</td>
</tr>
<tr>
<td><strong><em>y_std[8]</em></strong></td>
<td>0~16320</td>
<td>{20,70,70,70,70,50,28,18}</td>
<td>The standard deviation of NoiseSAD on Y channel. y_std[0]-[7] mapping to pixel brightness from dark to bright.</td>
</tr>
<tr>
<td><strong><em>motion_level_th_c_k1</em></strong></td>
<td>0~32</td>
<td>8</td>
<td>Threshold for determining transition region on Cb/Cr channel.</td>
</tr>
<tr>
<td><strong><em>motion_level_th_c_k2</em></strong></td>
<td>0~32</td>
<td>8</td>
<td>Threshold for determining motion region on Cb/Cr channel, K2 must larger or equal to K1.</td>
</tr>
<tr>
<td><strong><em>cb_mean[8]</em></strong></td>
<td>0~6375</td>
<td>{33,33,34,32,29,28,28,28}</td>
<td>The NoiseSAD mean value on Cb channel. cb_mean[0]-[7] mapping to pixel brightness from dark to bright.</td>
</tr>
<tr>
<td><strong><em>cb_std[8]</em></strong></td>
<td>0~6375</td>
<td>{10,9,10,10,9,9,9,9}</td>
<td>The standard deviation of NoiseSAD on Cb channel. cb_std[0]-[7] mapping to pixel brightness from dark to bright.</td>
</tr>
<tr>
<td><strong><em>cr_mean[8]</em></strong></td>
<td>0~6375</td>
<td>{23,23,25,23,20,20,21,21}</td>
<td>The NoiseSAD mean value on Cr channel. cr_mean[0]-[7] mapping to pixel brightness from dark to bright.</td>
</tr>
<tr>
<td><strong><em>cr_std[8]</em></strong></td>
<td>0~6375</td>
<td>{7,7,8,7,7,77,7}</td>
<td>The standard deviation of NoiseSAD on Cr channel. cr_std[0]-[7] mapping to pixel brightness from dark to bright.</td>
</tr>
<tr>
<td><strong><em>lut_y_3d_1_Th[4]</em></strong></td>
<td>0~127</td>
<td>{11,33,55,77}</td>
<td>Lut of Y channel 3D_1 filter<br><br>Please refer to advance description.</td>
</tr>
<tr>
<td><strong><em>lut_y _3d_2_Th[4]</em></strong></td>
<td>0~127</td>
<td>{40,14,7,3}</td>
<td>Lut of Y channel 3D_2 filter<br><br>Please refer to advance description.</td>
</tr>
<tr>
<td><strong><em>lut_y_2d_Th[4]</em></strong></td>
<td>0~127</td>
<td>{11,33,55,77}</td>
<td>Lut of Y channel 2D filter<br><br>Please refer to advance description.</td>
</tr>
<tr>
<td><strong><em>lut_c_3d_Th[4]</em></strong></td>
<td>0~127</td>
<td>{37,19,11,7}</td>
<td>Lut of Cb/Cr channel 3D filter<br><br>Please refer to advance description.</td>
</tr>
<tr>
<td><strong><em>lut_c_2d_Th[4]</em></strong></td>
<td>0~127</td>
<td>{11,33,55,77}</td>
<td>Lut of Cb/Cr channel 2D filter<br><br>Please refer to advance description.</td>
</tr>
<tr>
<td><strong><em>tmnr_fcs_str</em></strong></td>
<td>0~15</td>
<td>4</td>
<td>The strength of temporal de-false color function.</td>
</tr>
<tr>
<td><strong><em>tmnr_fcs_th</em></strong></td>
<td>0~255</td>
<td>32</td>
<td>Threshold for the difference between the previous frame and the current frame to determine whether it is false color.</td>
</tr>
<tr>
<td><strong><em>dithering_en</em></strong></td>
<td>0~1</td>
<td>1</td>
<td>Dithering enable. This function can be used to eliminate slight power noise or flicker phenomenon.</td>
</tr>
<tr>
<td><strong><em>dithering_bit_y</em></strong></td>
<td>0~3</td>
<td>2</td>
<td>Y channel random bit number. The higher the value, the stronger the ability to eliminate the power noiser and filcker phenomenon, but the picture may appear larger fine noise.</td>
</tr>
<tr>
<td><strong><em>dithering_bit_u</em></strong></td>
<td>0~3</td>
<td>1</td>
<td>U channel random bit number. The higher the value, the stronger the ability to eliminate the power noiser and filcker phenomenon, but the picture may appear larger fine noise.</td>
</tr>
<tr>
<td><strong><em>dithering_bit_v</em></strong></td>
<td>0~3</td>
<td>1</td>
<td>V channel random bit number. The higher the value, the stronger the ability to eliminate the power noiser and filcker phenomenon, but the picture may appear larger fine noise.</td>
</tr>
<tr>
<td><strong><em>err_compensate</em></strong></td>
<td>0~1</td>
<td>1</td>
<td>YC Compression error compensation.<br><br>0: Antiflicker mode. (Larger anti-flicker effect)<br><br>1: Compensation mode. (Data Compression Error Compensation)</td>
</tr>
</tbody>
</table>
<p><strong>Advance Description:</strong></p>
<p>l <strong><em>tmnr_fcs_en:</em></strong>  Temporal de-false color ON/OFF. This function will eliminate color-flash phenomenon in high frequency region.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>FCS off</strong></td>
<td><strong>FCS on</strong></td>
</tr>
<tr>
<td><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image016.jpg" /></td>
<td><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image017.jpg" /></td>
</tr>
</tbody>
</table>
<p><strong><em><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image018.png" /></em></strong></p>
<p>l <strong><em>display_motion_map_en:</em></strong></p>
<p>Motion region will label with red color, static region will label with black color, and transition region will label with white color.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Original image</td>
<td>Motion Map</td>
</tr>
<tr>
<td><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image019.jpg" /></td>
<td><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image020.jpg" /></td>
</tr>
</tbody>
</table>
<p>l <strong><em>Y_NOISE</em></strong><strong>:</strong>  Block SAD is the summation of pixel difference between the previous frame and current frame at the same location. If the Block SAD is larger than K2<em>NoiseSAD_STD(NoiseSAD_STD is the input parameter), it determines as motion region. If the Block SAD is smaller than K1</em>NoiseSAD_STD, it determines as static region. If the Block SAD is larger than K1*NoiseSAD_STD and smaller than K2*NoiseSAD_STD, it determines as transition region.</p>
<p>As follows :</p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image021.png" /></p>
<p>l Cb_NOISE, Cr_NOISE:</p>
<p>Different from Y channel, the NoiseSAD of Cb/Cr channel has no relationship with detail. Therefore, it has no slope parameter.</p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image022.png" /></p>
<p>l <strong><em>lut_Y_3d_1_Th:</em></strong>  Weighting Lut for stage 1 3DNR on Y channel, the x-axis is delta difference of neighbor pixel, the y-axis is weighting. As the following figure, the larger the difference, the smaller the weighting. The smaller the difference, the larger the weighting. Then, based on each weighting to perform weighting sum.</p>
<p><strong><em><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image023.png" /></em></strong></p>
<p>l <strong><em>lut_Y_3d_2_Th:</em></strong>  Weighting Lut for Stage 2 3DNR on Y channel, the x-axis is difference of the reference point between the previous frame and current frame, the y-axis is weighting. As the following figure, those with smaller difference might be static region, and set smaller weighting, the output will close to the reference frame. On the contrast, those with larger difference might be motion region, and set larger weighting, the output will close to the current frame.</p>
<p><strong><em><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image024.png" /></em></strong></p>
<p>l <strong><em>lut_Y_2d_Th:</em></strong>  Weighting Lut of neighbor pixel for 2DNR on Y channel, the x-axis is difference, the y-axis is weighting. As the following figure, the larger the difference, the smaller the weighting. The smaller the difference, the larger the weighting. Then, based on each weighting to perform weighting sum.</p>
<p><strong><em><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image025.png" /></em></strong></p>
<p>l <strong><em>lut_c_3d_Th:</em></strong> Suppression Level Lut for 3DNR on Cb/Cr channel, the x-axis is the difference of the reference point between the previous frame and current frame, the y-axis is the suppression level. The concept is the same with <strong><em>LUT_Y_3d_2_Th</em></strong>.</p>
<p>l <strong><em>lut_c_2d_Th:</em></strong>  Weighting Lut of neighbor pixel for 2DNR on Cb/Cr channel, the x-axis is difference, the y-axis is weighting. The concept is the same with <strong><em>lut_Y_2d_Th</em></strong>.</p>
<h3 id="43-setting-interface">4.3 Setting Interface<a class="headerlink" href="#43-setting-interface" title="Permanent link">&para;</a></h3>
<h4 id="431-proc">4.3.1 Proc<a class="headerlink" href="#431-proc" title="Permanent link">&para;</a></h4>
<h6 id="l-procvideographvpetmnrdump_info">l /proc/videograph/vpe/tmnr/dump_info<a class="headerlink" href="#l-procvideographvpetmnrdump_info" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read all parameters of the current camera channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write : Not support.</strong></p>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/tmnr/dump_info</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": luma_dn_en = luma_dn_en
chroma_dn_en = chroma_dn_en
tmnr_fcs_en = tmnr_fcs_en
nt_str_y_3d = nt_str_y_3d
nr_str_y_2d = nr_str_y_2d
nr_str_c_3d = nr_str_c_3d
nr_str_c_2d = nr_str_c_2d
blur_str_y = blur_str_y
center_wzero_y_2d_en = center_wzero_y_2d_en
center_wzero_y_3d_en = center_wzero_y_3d_en
small_vibrat_supp_y_en = small_vibrat_supp_y_en
avoid_residue_th_y = avoid_residue_th_y
avoid_residue_th_c = avoid_residue_th_c
y_base[8] = y_base[0] .. y_base[7]
motion_level_th_y = motion_leve_tTh_y_k1, motion_level_th_y_k2
motion_level_th_c = motion_level_th_c_k1, motion_level_th_c_k2
y_coefa[8] = y_coefa[0] y_coefa[7]
y_coefb[8] = y_coefb[0] y_coefb[7]
y_std[8] = y_std[0] y_std[7]
cb_mean[8] = cb_mean[0] . cb_mean[7]
cb_std[8] = cb_std[0]..cb_std[7]
cr_mean[8] = cr_mean[0] . cr_mean[7]
cr_std[8] = cr_std[0]..cr_std[7]
lut_y_3d_1_th[4] = lut_y_3d_1_th[0]  .. lut_y_3d_1_th[3]
lut_y_3d_2_th[4] = lut_y_3d_2_th[0]  .. lut_y_3d_2_th[3]
lut_y_2d_th[4] = lut_y_2d_th[0]lut_y_2d_th[3]
lut_c_3d_th[4] = lut_c_3d_th[0]. lut_c_3d_th[3]
lut_c_2d_th[4] = lut_c_2d_th[0].. lut_c_2d_th[3]
tmnr_fcs_str = tmnr_fcs_str
tmnr_fcs_th = tmnr_fcs_th
dithering_en = dithering_en
dithering_bit_y = dithering_bit_y
dithering_bit_u = dithering_bit_u
dithering_bit_v = dithering_bit_v
err_compensate = err_compensate
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image026.png" /></strong></p>
<h6 id="l-procvideographvpetmnrch_en_status">l /proc/videograph/vpe/tmnr/ch_en_status<a class="headerlink" href="#l-procvideographvpetmnrch_en_status" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the enable status of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [luma_en] [chroma_en] [fcs_en] &gt; /proc/videograph/vpe/tmnr/ch_en_status</td>
<td><strong>luma_dn_en</strong><br><br><strong>chroma_dn_en</strong><br><br><strong>tmnr_fcs_en</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/ch_en_status</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [luma_en] [chroma_en] [fcs_en] &gt; /proc/videograph/vpe/tmnr/ch_en_status ===============================================================</p>
<p>luma_en = luma_dn_en
chroma_en = chroma_dn_en
fcs_en = tmnr_fcs_en
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image027.png)**</p>
<h6 id="l-procvideographvpetmnrnr_strength">l /proc/videograph/vpe/tmnr/nr_strength<a class="headerlink" href="#l-procvideographvpetmnrnr_strength" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the TMNR strength of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [y_3d_str] [y_2d_str] [c_3d_str] [c_2d_str] &gt; /proc/videograph/vpe/tmnr/nr_strength</td>
<td><strong>nr_str_y_3d, nr_str_y_2d</strong><br><br><strong>nr_str_c_3d, nr_str_c_2d</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/nr_strength</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [y_3d_str] [y_2d_str] [c_3d_str] [c_2d_str] &gt; /proc/videograph/vpe/tmnr//proc/videograph/vpe/tmnr/nr_strength ===============================================================</p>
<p>nr_str_y_3d = nr_str_y_3d
nr_str_y_2d = nr_str_y_2d
nr_str_c_3d = nr_str_c_3d
nr_str_c_2d = nr_str_c_2d
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image028.png)**</p>
<h6 id="l-procvideographvpetmnry_base">l /proc/videograph/vpe/tmnr/y_base<a class="headerlink" href="#l-procvideographvpetmnry_base" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the base noise level of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [y_base0] [y_base1][y_base7] &gt; /proc/videograph/vpe/tmnr/y_base</td>
<td><strong>y_base[0]~[7]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/y_base</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [y_base0] [y_base1][y_base7] &gt; /proc/videograph/vpe/tmnr/y_base ===============================================================</p>
<p>TMNR Noise Y_base = y_base[0]y_base[7]
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image029.png)**</p>
<h6 id="l-procvideographvpetmnrmotion_level_th">l /proc/videograph/vpe/tmnr/motion_level_th<a class="headerlink" href="#l-procvideographvpetmnrmotion_level_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the noise model parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [y_k1] [y_k2] [c_k1] [c_k2] &gt; /proc/videograph/vpe/tmnr/motion_level_th</td>
<td><strong>motion_level_th_y_k1</strong><br><br><strong>motion_level_th_y_k2</strong><br><br><strong>motion_level_th_c_k1</strong><br><br><strong>motion_level_th_c_k2</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/motion_level_th</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [y_k1] [y_k2] [c_k1] [c_k2] &gt; /proc/videograph/vpe/tmnr/motion_level_th ===============================================================</p>
<p>TMNR motion level th = motion_level_th_y_k1, motion_level_th_y_k2, motion_level_th_c_k1, motion_level_th_c_k2,
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image030.png)**</p>
<h6 id="l-procvideographvpetmnry_coeffa">l /proc/videograph/vpe/tmnr/y_coeffa<a class="headerlink" href="#l-procvideographvpetmnry_coeffa" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the noise model parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [y_coeffa0] [y_coeffa1][y_coeffa7] &gt; /proc/videograph/vpe/tmnr/y_coeffa</td>
<td><strong>y_coeffa[0]~[7]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/y_coeffa</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [y_coeffa0] [y_coeffa1][y_coeffa7] &gt; /proc/videograph/vpe/tmnr/y_coeffa ===============================================================</p>
<p>TMNR Noise model y_coeffa = y_coeffa[0]y_coeffa[7]
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image031.png)**</p>
<h6 id="l-procvideographvpetmnry_coeffb">l /proc/videograph/vpe/tmnr/y_coeffb<a class="headerlink" href="#l-procvideographvpetmnry_coeffb" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the noise model parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [y_coeffb0] [y_coeffb1][y_coeffb7] &gt; /proc/videograph/vpe/tmnr/y_coeffb</td>
<td><strong>y_coeffb[0]~[7]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/y_coeffb</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [y_coeffb0] [y_coeffb1][y_coeffb7] &gt; /proc/videograph/vpe/tmnr/y_coeffb ===============================================================</p>
<p>TMNR Noise model y_coeffb = y_coeffb[0]y_coeffb[7]
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image032.png)**</p>
<h6 id="l-procvideographvpetmnry_std">l /proc/videograph/vpe/tmnr/y_std<a class="headerlink" href="#l-procvideographvpetmnry_std" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the noise model parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [y_std0] [y_std1][y_std7] &gt; /proc/videograph/vpe/tmnr/y_std</td>
<td><strong>y_std[0]~[7]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/y_std</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [y_std0] [y_std1][y_std7] &gt; /proc/videograph/vpe/tmnr/y_std ===============================================================</p>
<p>TMNR Noise model y_std = y_std[0]y_std[7]
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image033.png)**</p>
<h6 id="l-procvideographvpetmnrcb_mean">l /proc/videograph/vpe/tmnr/cb_mean<a class="headerlink" href="#l-procvideographvpetmnrcb_mean" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the noise model parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [cb_mean0] [cb_mean1][cb_mean 7] &gt; /proc/videograph/vpe/tmnr/cb_mean</td>
<td><strong>cb_mean[0]~[7]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/cb_mean</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [cb_mean0] [cb_mean1][cb_mean 7] &gt; /proc/videograph/vpe/tmnr/cb_mean ===============================================================</p>
<p>TMNR Noise model cb_mean = cb_mean[0]cb_mean[7]
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image034.png)**</p>
<h6 id="l-procvideographvpetmnrcb_std">l /proc/videograph/vpe/tmnr/cb_std<a class="headerlink" href="#l-procvideographvpetmnrcb_std" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the noise model parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [cb_std0] [cb_std1][cb_std7] &gt; /proc/videograph/vpe/tmnr/cb_std</td>
<td><strong>cb_std[0]~[7]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/cb_std</strong></p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command : 
echo [cb_std0] [cb_std1][cb_std7] &gt; /proc/videograph/vpe/tmnr/cb_std ===============================================================
TMNR Noise model cb_std = cb_std[0]cb_std[7]
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image035.png" /></strong></p>
<h6 id="l-procvideographvpetmnrcr_mean">l /proc/videograph/vpe/tmnr/cr_mean<a class="headerlink" href="#l-procvideographvpetmnrcr_mean" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the noise model parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [cr_mean0] [cr_mean1][cr_std7] &gt; /proc/videograph/vpe/tmnr/cr_mean</td>
<td><strong>cr_std[0]~[7]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/cr_mean</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [cr_mean0] [cr_mean1][cr_std7] &gt; /proc/videograph/vpe/tmnr/cr_mean ===============================================================</p>
<p>TMNR Noise model cr_mean = cr_mean[0]cr_mean[7]
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image036.png)**</p>
<h6 id="l-procvideographvpetmnrcr_std">l /proc/videograph/vpe/tmnr/cr_std<a class="headerlink" href="#l-procvideographvpetmnrcr_std" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the noise model parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [cr_std0] [cr_std1][cr_std7] ] &gt; /proc/videograph/vpe/tmnr/cr_std</td>
<td><strong>cr_std[0]~[7]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/cr_std</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [cr_std0] [cr_std1][cr_std7] &gt; /proc/videograph/vpe/tmnr/cr_std ===============================================================</p>
<p>TMNR Noise model cr_std = cr_std[0]cr_std[7]
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image037.png)**</p>
<h6 id="l-procvideographvpetmnrlut_y_3d_1_th">l /proc/videograph/vpe/tmnr/lut_y_3d_1_th<a class="headerlink" href="#l-procvideographvpetmnrlut_y_3d_1_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the 3D noise reduction parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [th0] [th1] [th2] [th3] &gt; /proc/videograph/vpe/tmnr/lut_y_3d_1_th</td>
<td><strong>lut_y_3d_1_th[0]~[3]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/lut_y_3d_1_th</strong></p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command : 
echo [th0] [th1] [th2] [th3] &gt; /proc/videograph/vpe/tmnr/lut_y_3d_1_th ===============================================================
TMNR lut_y_3d_1_th = lut_y_3d_1_th[0]th[3]
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image038.png" /></strong></p>
<h6 id="l-procvideographvpetmnrlut_y_3d_2_th">l /proc/videograph/vpe/tmnr/lut_y_3d_2_th<a class="headerlink" href="#l-procvideographvpetmnrlut_y_3d_2_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the 3D noise reduction parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [th0] [th1] [th2] [th3] &gt; /proc/videograph/vpe/tmnr/lut_y_3d_2_th</td>
<td><strong>lut_y_3d_2_th[0]~[3]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/lut_y_3d_2_th</strong></p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command : 
echo [th0] [th1] [th2] [th3] &gt; /proc/videograph/vpe/tmnr/lut_y_3d_2_th ===============================================================
TMNR lut_y_3d_2_th = lut_y_3d_2_th[0]th[3]
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image039.png" /></strong></p>
<h6 id="l-procvideographvpetmnrlut_y_2d_th">l /proc/videograph/vpe/tmnr/lut_y_2d_th<a class="headerlink" href="#l-procvideographvpetmnrlut_y_2d_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the 2D noise reduction parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [th0] [th1] [th2] [th3] &gt; /proc/videograph/vpe/tmnr/lut_y_2d_th</td>
<td><strong>lut_y_2d_th[0]~[3]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/tmnr/lut_y_2d_th</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [th0] [th1] [th2] [th3] &gt; /proc/videograph/vpe/tmnr/lut_y_2d_th ===============================================================</p>
<p>TMNR lut_y_2d_th = lut_y_2d_th[0]th[3]
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image040.png)**</p>
<h6 id="l-procvideographvpetmnrlut_c_3d_th">l /proc/videograph/vpe/tmnr/lut_c_3d_th<a class="headerlink" href="#l-procvideographvpetmnrlut_c_3d_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the 3D noise reduction parameters of 3DNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [th0] [th1] [th2] [th3] &gt; /proc/videograph/vpe/tmnr/lut_c_3d_th</td>
<td><strong>lut_c_3d_th[0]~[3]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/lut_c_3d_th</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [th0] [th1] [th2] [th3] &gt; /proc/videograph/vpe/tmnr/lut_c_3d_th ===============================================================</p>
<p>TMNR lut_c_3d_th = lut_c_3d_th[0]th[3]
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image041.png)**</p>
<h6 id="l-procvideographvpetmnrlut_c_2d_th">l /proc/videograph/vpe/tmnr/lut_c_2d_th<a class="headerlink" href="#l-procvideographvpetmnrlut_c_2d_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the 2D noise reduction parameters of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [th0] [th1] [th2] [th3] &gt; /proc/videograph/vpe/tmnr/lut_c_2d_th</td>
<td><strong>lut_c_2d_th[0]~[3]</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/tmnr/lut_c_2d_th</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [th0] [th1] [th2] [th3] &gt; /proc/videograph/vpe/tmnr/lut_c_2d_th ===============================================================</p>
<p>TMNR lut_c_3d_th = lut_c_2d_th[0]th[3]
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image042.png)**</p>
<h6 id="l-procvideographvpetmnrfcs_str">l /proc/videograph/vpe/tmnr/fcs_str<a class="headerlink" href="#l-procvideographvpetmnrfcs_str" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the false color suppression strength of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [fcs_str (0~15) ] &gt; /proc/videograph/vpe/tmnr/fcs_str</td>
<td><strong>tmnr_fcs_str</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/tmnr/fcs_str</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [fcs_str (0~15) ] &gt; /proc/videograph/vpe/tmnr/fcs_str ===============================================================</p>
<p>TMNR FCS strength = tmnr_fcs_str
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image043.png)**</p>
<h6 id="l-procvideographvpetmnrfcs_th">l /proc/videograph/vpe/tmnr/fcs_th<a class="headerlink" href="#l-procvideographvpetmnrfcs_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the threshold for determining whether it is false color of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [fcs_th (0~255) ] &gt; /proc/videograph/vpe/tmnr/fcs_th</td>
<td><strong>tmnr_fcs_th</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/tmnr/fcs_th</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [fcs_th (0~255) ] &gt; /proc/videograph/vpe/tmnr/fcs_th ===============================================================</p>
<p>TMNR FCS th = tmnr_fcs_th
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image044.png)**</p>
<h6 id="l-procvideographvpetmnrmotion_map">l /proc/videograph/vpe/tmnr/motion_map<a class="headerlink" href="#l-procvideographvpetmnrmotion_map" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the motion map of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [map_en (0~1)] &gt; [map_idx] &gt; /proc/videograph/vpe/tmnr/motion_map<br><br>map_en:<br><br>0: display_motion_map_en = 0<br><br>1: display_motion_map_en = 1<br><br>map_idx :<br><br>?0: motion_map_channel=Y<br><br>?1: motion_map_channel=Cb<br><br>2: motion_map_channel=Cr<br><br>3: motion_map_channel=FCS_Cb<br><br>4: motion_map_channel=FCS_Cr</td>
<td><strong>display_motion_map_en,</strong><br><br><strong>motion_map_channel</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/tmnr/motion_map</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [map_en (0~1)] [map_idx (0~4)] &gt; /proc/videograph/vpe/tmnr/motion_map
===============================================================</p>
<p>TMNR motion_map : 
map_en = display_motion_map_en 
map_channel = motion_map_channel
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image045.png)**</p>
<h6 id="l-procvideographvpetmnrdiff_blur_str">l /proc/videograph/vpe/tmnr/diff_blur_str<a class="headerlink" href="#l-procvideographvpetmnrdiff_blur_str" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the Diff. image blur strength of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [str (0~2)] &gt; /proc/videograph/vpe/tmnr/diff_blur_str<br><br>str: blur strength 0 ~2</td>
<td><strong>blur_str_y</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/tmnr/diff_blur_str</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [str (0~2)] &gt; /proc/videograph/vpe/tmnr/diff_blur_str
===============================================================</p>
<p>diff_blur_str = blur_str_y
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image046.png)**</p>
<h6 id="l-procvideographvpetmnravoid_residue_th">l /proc/videograph/vpe/tmnr/avoid_residue_th<a class="headerlink" href="#l-procvideographvpetmnravoid_residue_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the Diff. image blur strength of TMNR of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [avoid_residue_th_y (1~4)] [avoid_residue_th_c (1~4)] &gt; /proc/videograph/vpe/tmnr/avoid_residue_th</td>
<td><strong>avoid_residue_th_y, avoid_residue_th_c</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/tmnr/avoid_residue_th</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command : 
echo [avoid_residue_th_y (1~4)] [avoid_residue_th_c (1~4)] &gt; /proc/videograph/vpe/ avoid_residue_th
===============================================================
avoid_residue_th_y= avoid_residue_th_y,  avoid_residue_th_c= avoid_residue_th_c
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image047.png" /></strong></p>
<h6 id="l-procvideographvpetmnrdithering">l /proc/videograph/vpe/tmnr/dithering<a class="headerlink" href="#l-procvideographvpetmnrdithering" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the dithering relative parameters of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [dithering_en (0~1)] [dithering_bit_y (0~7)] [dithering_bit_u (0~7)] [dithering_bit_v (0~7)] &gt; /proc/videograph/vpe/tmnr/dithering</td>
<td><strong>dithering_en</strong><br><br><strong>dithering_bit_y</strong><br><br><strong>dithering_bit_u</strong><br><br><strong>dithering_bit_v</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/tmnr/ dithering</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command : 
echo [dithering_en (0~1)] [dithering_bit_y (0~7)] [dithering_bit_u (0~7)] [dithering_bit_v (0~7)] &gt; /proc/videograph/vpe/tmnr/dithering
===============================================================
dithering_en = dithering_en, dithering_bit_y = dithering_bit_y, dithering_bit_u = dithering_bit_u, dithering_bit_v = dithering_bit_v
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image048.png" /></strong></p>
<h6 id="l-procvideographvpetmnrerr_compensate">l /proc/videograph/vpe/tmnr/err_compensate<a class="headerlink" href="#l-procvideographvpetmnrerr_compensate" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the err_compensate parameter of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [err_compensate (0~1)] &gt; /proc/videograph/vpe/tmnr/err_compensate</td>
<td><strong>err_compensate</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/tmnr/err_compensate</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command : 
echo [err_compensate (0~1)] &gt; /proc/videograph/vpe/tmnr/err_compensate
===============================================================
err_compensate = err_compensate
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image049.png" /></strong></p>
<h4 id="432-vendor-api">4.3.2 Vendor API<a class="headerlink" href="#432-vendor-api" title="Permanent link">&para;</a></h4>
<p><strong>[Description]</strong></p>
<p>Get and set the TMNR parameters corresponding to current path_id.</p>
<p><strong>[Command]</strong></p>
<p>??????? <strong>Get</strong><strong></strong></p>
<p>HD_RESULT vendor_video_get(HD_PATH_ID path_id, VENDOR_VIDEO_TMNR_CTRL, VENDOR_VIDEO_PARAM_TMNR_EXT *p_param);</p>
<p>??????? <strong>Set</strong><strong></strong></p>
<p>HD_RESULT vendor_video_set(HD_PATH_ID path_id, VENDOR_VIDEO_DN_2D, VENDOR_VIDEO_PARAM_TMNR_EXT *p_param);</p>
<p><strong>[Definition]</strong></p>
<p><strong><img alt=": typedef struct _VENDOR_VIDEO_PARAM_TMNR_EXT {
    UINT32 tmnr_en;         ///&lt; 3DNR ON/OFF
    UINT32 luma_dn_en;      ///&lt; Y channel 3DNR ON/OFF
    UINT32 chroma_dn_en;    ///&lt; CbCr channel 3DNR ON/OFF
    UINT32 nr_str_y_3d;     ///&lt; Y channel temporal NR strength, 0~32
    UINT32 nr_str_y_2d;     ///&lt; Y channel spatial NR strength, 0~32
    UINT32 nr_str_c_3d;     ///&lt; CbCr channel temporal NR strength, 0~32
    UINT32 nr_str_c_2d;     ///&lt; CbCr channel spatial NR strength, 0~32
    UINT32 blur_str_y;      ///&lt; Difference Y image blurred strength (0: No blur, 1: low-strength blur, 2: high-strength blur)
    UINT32 center_wzero_y_2d_en;    ///&lt; Apply zero to center weight of Y spatial Bilateral filter
    UINT32 center_wzero_y_3d_en;    ///&lt; Apply zero to center weight of Y temporal Bilateral filter
    UINT32 small_vibrat_supp_y_en;  ///&lt; Y channel small vibration suppression ON/OF
    UINT32 avoid_residue_th_y;      ///&lt; 1~4
    UINT32 avoid_residue_th_c;      ///&lt; 1~4
    UINT32 display_motion_map_en;   ///&lt; Display motion level map ON/OFF
    UINT32 motion_map_channel;      ///&lt; Channel selection for motion level map display (0:Y, 1:Cb, 2:Cr)
    UINT32 motion_level_th_y_k1;    ///&lt; Y channel match level threshold 1 adjustment, 0~32
    UINT32 motion_level_th_y_k2;    ///&lt; Y channel match level threshold 2 adjustment, 0~32 AND K2 &gt; K1
    UINT32 motion_level_th_c_k1;    ///&lt; CbCr channel match level threshold 1 adjustment, 0~32
    UINT32 motion_level_th_c_k2;    ///&lt; CbCr channel match level threshold 2 adjustment, 0~32 AND K2 &gt; K1
    UINT32 lut_y_3d_1_th[4];      ///&lt; LUT of Y channel 3d_1 filter, 0~127
    UINT32 lut_y_3d_2_th[4];      ///&lt; LUT of CbCr channel 3d filter, 0~127
    UINT32 lut_y_2d_th[4];            ///&lt; LUT of Y channel 2d filter, 0~127
    UINT32 lut_c_3d_th[4];            ///&lt; LUT of CbCr channel 3d filter, 0~127
    UINT32 lut_c_2d_th[4];            ///&lt; LUT of CbCr channel 2d filter, 0~127
    UINT32 y_base[8];                 ///&lt; Y channel noise model parameter: base noise level, 0 ~16320
    UINT32 y_coefa[8];                ///&lt; Y channel noise model parameter: slope of line, 0~48, Regard 16 as slope 1.0
    UINT32 y_coefb[8];                ///&lt; Y channel noise model parameter: intercept of line, 0 ~16320
    UINT32 y_std[8];              ///&lt; Y channel noise model parameter: noise standard deviation, 0 ~16320
    UINT32 cb_mean[8];                ///&lt; Cb channel noise model parameter: noise mean, 0 ~6375
    UINT32 cb_std[8];                 ///&lt; Cb channel nosie model parameter: noise standard deviation, 0 ~6375
    UINT32 cr_mean[8];                ///&lt; Cr channel noise model parameter: noise mean, 0 ~6375
    UINT32 cr_std[8];                 ///&lt; Cr channel nosie model parameter: noise standard deviation, 0 ~6375
    UINT32 tmnr_fcs_en;             ///&lt; TMNR False Color Supression enable, **chroma_dn_en shoulde be 1
    UINT32 tmnr_fcs_str;            ///&lt; TMNR_False Color Supression strength
    UINT32 tmnr_fcs_th;             ///&lt; TMNR False Color Supression threshold
    //new in nt98321
    UINT8 dithering_en;             ///&lt; source dithering switch. 0~1. default  0
    UINT8 dithering_bit_y;          ///&lt; Y-channel dithering range. 0~3. default 2
    UINT8 dithering_bit_u;          ///&lt; U-channel dithering range. 0~3. default 1
    UINT8 dithering_bit_v;          ///&lt; V-channel dithering range. 0~3. default 1
    UINT8 err_compensate;           ///&lt; err compensation method option. 0~1. default 1
} VENDOR_VIDEO_PARAM_TMNR_EXT;
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image050.png" /></strong></p>
<h2 id="5-sharpen-shp">5 Sharpen (SHP)<a class="headerlink" href="#5-sharpen-shp" title="Permanent link">&para;</a></h2>
<p>This is texture enhancement module.</p>
<h3 id="51-overview">5.1 Overview<a class="headerlink" href="#51-overview" title="Permanent link">&para;</a></h3>
<p>This algorithm adopts inverse gamma information and after gamma information to perform texture enhancement, respectively, to improve the enhancement strength not smooth problem of the bright/dark region. Besides, it adopts 3x3 and 5x5 filter to enhance thin edge and thick edge, repectively, to take care of the detail and contrast of image. Calculating Edge Weight to determine this is detail region or flat region(thinner edge) and automatically adjusting weighting of detail enhancement result and flat region enhancement result to take care of texture enhancement and avoid noise enhancement. The Halo clip is used to control the overshootong phenomenon caused by edge enhancement.</p>
<p>The major flow please refer to the following figure:</p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image051.png" /></p>
<p>Parameter Description</p>
<p>Table 5?1 SHP Parameter List</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Parameter</strong></td>
<td><strong>Range</strong></td>
<td><strong>Def</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><strong><em>sharpen_en</em></strong></td>
<td>0~1</td>
<td>0</td>
<td>Edge enhance ON/OFF</td>
</tr>
<tr>
<td><strong><em>edge_weight_src_sel</em></strong></td>
<td>0~1</td>
<td>0</td>
<td>Select the image source to calculate Edge Weight .<br><br>0: after gamma, 1: inverse gamma.<br><br>Please refer to description.</td>
</tr>
<tr>
<td><strong><em>edge_weight_th</em></strong></td>
<td>0~255</td>
<td>2</td>
<td>Threshold for calculating Edge Weight, those smaller than threshold will be considered as flat region, and the output all adopt flat region enhancement result.</td>
</tr>
<tr>
<td><strong><em>edge_weight_gain</em></strong></td>
<td>0~255</td>
<td>175</td>
<td>Adjust the weighting of detail enhancement result and flat region(thin edge) enhancement result. Based on the setting of noise_level+noise_curve to adjust EdgeWeight for different pixel brightness. The larger the Edge Weight, the larger weighting of detail enhancement result, repersenting the edge enhance is more stronger(more noise). In the contrast, the smaller the edge weight, the larger weighting of flat region enhancement result, representing the edge enhancement is less stronger.</td>
</tr>
<tr>
<td><strong><em>noise_level</em></strong></td>
<td>0~255</td>
<td>25</td>
<td>Please refer to advance description.</td>
</tr>
<tr>
<td><strong><em>noise_curve[17]</em></strong></td>
<td>0~255</td>
<td>{50, 50, 50, 48, 47, 44, 39, 38, 37, 36, 35, 35, 35, 35, 35, 35, 35}</td>
<td>Please refer to advance description.</td>
</tr>
<tr>
<td><strong><em>blend_inv_gamma</em></strong></td>
<td>0~128</td>
<td>64</td>
<td>The blending weight of inverse gamma edge enhancement result and after gamma edge enhancement result. This parameter is equal to adjust the ratio of edge enhancement between bright region and dark region, let the edge enhancement level of bright region and dark region is more even. The larger the value, the stronger strength of bright region enhancement, but the weaker strength of dark region enhancement.</td>
</tr>
<tr>
<td><strong><em>edge_sharp_str1</em></strong></td>
<td>0~255</td>
<td>25</td>
<td>Adjust the strength of thin edge enhancement</td>
</tr>
<tr>
<td><strong><em>edge_sharp_str2</em></strong></td>
<td>0~255</td>
<td>10</td>
<td>Adjust the strength of thick edge enhancement</td>
</tr>
<tr>
<td><strong><em>flat_sharp_str</em></strong></td>
<td>0~255</td>
<td>0</td>
<td>Adjust the strength of flat region(thin detail) enhancement.</td>
</tr>
<tr>
<td><strong><em>coring_th</em></strong></td>
<td>0~255</td>
<td>0</td>
<td>Threshold for determing whether to perform enhancement. For those edge value smaller than threshold, they will not perform edge enhancement to avoid enhancing noise.</td>
</tr>
<tr>
<td><strong><em>bright_halo_clip</em></strong></td>
<td>0~128</td>
<td>32</td>
<td>Remove bright halo edge caused by edge enhancement. The smaller the bright_halo_clip, the less bright halo edge, but the sharpness might be decreased.</td>
</tr>
<tr>
<td><strong><em>dark_halo_clip</em></strong></td>
<td>0~128</td>
<td>96</td>
<td>Remove dark halo edge caused by edge enhancement. The smaller the dark_halo_clip, the less dark halo edge, but the sharpness might be decreased.</td>
</tr>
</tbody>
</table>
<p><strong>Advance description</strong></p>
<p>l <strong><em>noise_level, noise_curve[17]:</em></strong></p>
<p>noise_level = noise_level + NoiseofPixel, wherein the NoiseofPixel is the y-axis of noise_curve.</p>
<p>The noise_curve may depend on the pixel brightness to set the noise size, respectively. Normally, human eyes are less sensitive to the noise in high bright region; thus, it can set small value to increase the edge enhancement strength to enhance detail. It is recommend to use the following default value. If user want to adjust the noise size at all Y range(0-255), it just needs to adjust noise_level.</p>
<p>Noise</p>
<p>?</p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image052.png" /></p>
<p>Default value:</p>
<p><strong><em>edge_weight_src_sel</em></strong> =0</p>
<p>noise_curve[17] ={50,50,50,48,47,44,39,38,37,36,35,35,35,35,35,35,35}</p>
<p>e More strengthen on detail in bright region to avoid enhancing noise.</p>
<p><strong><em>edge_weight_src_sel</em></strong> =1</p>
<p>noise_curve[17] = {0, 38, 46, 51, 54, 57, 59, 61, 62, 62, 62, 62, 62, 62, 62, 62, 62}</p>
<p>e More strengthen on detail in dark region to enhance thin detail, but the noise in dark region will be enhanced, either.</p>
<h3 id="52-setting-interface">5.2 Setting Interface<a class="headerlink" href="#52-setting-interface" title="Permanent link">&para;</a></h3>
<h4 id="521-proc">5.2.1 Proc<a class="headerlink" href="#521-proc" title="Permanent link">&para;</a></h4>
<h6 id="l-procvideographvpesharpendump_info">l /proc/videograph/vpe/sharpen/dump_info<a class="headerlink" href="#l-procvideographvpesharpendump_info" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read all Sharpen parameters of the current camera channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write : Not support.</strong></p>
<p>Read : cat /proc/videograph/vpe/sharpen/dump_info</p>
<p><strong><img alt=": Current channel = &lt;ch_no&gt;
edge_weight_src_sel = edge_weight_src_sel
edge_weight_th = edge_weight_th
edge_weight_gain = edge_weight_gain
noise_level = noise_level
noise_curve[17] = noise_curve[0] . noise_curve[16]
blend_inv_gamma = blend_inv_gamma
edge_sharp_str1 = edge_sharp_str1
edge_sharp_str2 = edge_sharp_str2
flat_sharp_str = flat_sharp_str
coring_th = coring_th
bright_halo_clip = bright_halo_clip
dark_halo_clip = dark_halo_clip
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png" /></strong></p>
<h6 id="l-procvideographvpesharpensharp_en">l /proc/videograph/vpe/sharpen/sharp_en<a class="headerlink" href="#l-procvideographvpesharpensharp_en" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the enable status of the cuurent channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [ sharp_en (0~1) ] &gt; /proc/videograph/vpe/sharpen/sharp_en</td>
<td><strong>sharpen_en</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/sharpen/shp_en</strong></p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [ sharp_en (0~1) ] &gt; /proc/videograph/vpe/sharpen/sharp_en ===============================================================</p>
<p>sharpen_en = sharpen_en
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png)**</p>
<h6 id="l-procvideographvpesharpenedge_weight_src_sel">l /proc/videograph/vpe/sharpen/edge_weight_src_sel<a class="headerlink" href="#l-procvideographvpesharpenedge_weight_src_sel" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the sharpen parameter of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [src_sel (0 ~ 1) ] &gt; /proc/videograph/vpe/sharpen/edge_weight_src_sel</td>
<td><strong>edge_weight_src_sel</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/sharpen/edge_weight_src_sel</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [src_sel (0 ~ 1)] &gt; /proc/videograph/vpe/sharpen/edge_weight_src_sel ===============================================================</p>
<p>edge_weight_src_sel = edge_weight_src_sel
0: after gamma 1: before gamma
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png)**</p>
<h6 id="l-procvideographvpesharpenedge_weigt_gain">l /proc/videograph/vpe/sharpen/edge_weigt_gain<a class="headerlink" href="#l-procvideographvpesharpenedge_weigt_gain" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the sharpen parameter of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [gain (0~255) ] &gt; /proc/videograph/vpe/sharpen/edge_weight_gain</td>
<td><strong><em>edge_weight_gain</em></strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/sharpen/edge_weight_gain</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [gain (0~255)] &gt; /proc/videograph/vpe/sharpen/edge_weight_gain ===============================================================</p>
<p>edge_weight_gain = edge_weight_gain
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png)**</p>
<h6 id="l-procvideographvpesharpenedge_weight_th">l /proc/videograph/vpe/sharpen/edge_weight_th<a class="headerlink" href="#l-procvideographvpesharpenedge_weight_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the sharpen parameter of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [th (0~255) ] &gt; /proc/videograph/vpe/sharpen/edge_weight_th</td>
<td><strong><em>edge_weight_th</em></strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/sharpen/edge_weight_th</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [th (0~255)] &gt; /proc/videograph/vpe/sharpen/edge_weight_th ===============================================================</p>
<p>edge_weight_th = edge_weight_th
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png)**</p>
<h6 id="l-procvideographvpesharpenblend_inv_gamma">l /proc/videograph/vpe/sharpen/blend_inv_gamma<a class="headerlink" href="#l-procvideographvpesharpenblend_inv_gamma" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the sharpen parameter of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [th (0~128) ] &gt; /proc/videograph/vpe/sharpen/blend_inv_gamma</td>
<td><strong><em>blend_inv_gamma</em></strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/sharpen/blend_inv_gamma</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [th (0~128) &gt; /proc/videograph/vpe/sharpen/blend_inv_gamma ===============================================================</p>
<p>blend_inv_gamma = blend_inv_gamma
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png)**</p>
<h6 id="l-procvideographvpesharpenedge_sharp_str">l /proc/videograph/vpe/sharpen/edge_sharp_str<a class="headerlink" href="#l-procvideographvpesharpenedge_sharp_str" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the sharpen parameter of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [str1 (0~255)] [str2 (0~255)] &gt; /proc/videograph/vpe/sharpen/edge_sharp_str</td>
<td><strong><em>edge_sharp_str1</em></strong><br><br><strong><em>edge_sharp_str2</em></strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/sharpen/edge_sharp_str</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command : 
echo [str1 (0~255)] [str2 (0~255)] &gt; /proc/videograph/vpe/sharpen/edge_sharp_str ===============================================================
sharp_str1 = edge_sharp_str1
sharp_str2 = edge_sharp_str2
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png" /></strong></p>
<h6 id="l-procvideographvpesharpenflat_sharp_str">l /proc/videograph/vpe/sharpen/flat_sharp_str<a class="headerlink" href="#l-procvideographvpesharpenflat_sharp_str" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the sharpen parameter of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [str (0~255)] &gt; /proc/videograph/vpe/sharpen/flat_sharp_str</td>
<td><strong><em>flat_sharp_str</em></strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/sharpen/flat_sharp_str</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [str (0~255)] &gt; /proc/videograph/vpe/sharpen/flat_sharp_str ===============================================================</p>
<p>flat_sharp_str = flat_sharp_str
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png)**</p>
<h6 id="l-procvideographvpesharpencoring_th">l /proc/videograph/vpe/sharpen/coring_th<a class="headerlink" href="#l-procvideographvpesharpencoring_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the sharpen parameter of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [coring_th (0~255)] &gt; /proc/videograph/vpe/sharpen/coring_th</td>
<td><strong><em>coring_th</em></strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/sharpen/coring_th</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [coring_th (0~255)] &gt; /proc/videograph/vpe/sharpen/coring_th ===============================================================</p>
<p>coring_th = coring_th
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png)**</p>
<h6 id="l-procvideographvpesharpenhalo_clip">l /proc/videograph/vpe/sharpen/halo_clip<a class="headerlink" href="#l-procvideographvpesharpenhalo_clip" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the sharpen parameter of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [bright_clip (0~128)] [dark_clip(0~128)] &gt; /proc/videograph/vpe/sharpen/halo_clip</td>
<td><strong><em>bright_halo_clip</em></strong><br><br><strong><em>drak_halo_clip</em></strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/sharpen/halo_clip</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [bright_clip (0~128)] [dark_clip(0~128)] &gt; /proc/videograph/vpe/sharpen/halo_clip ===============================================================</p>
<p>Bright_halo_clip = bright_halo_clip
Dark_halo_clip = dark_halo_clip
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png)**</p>
<h6 id="l-procvideographvpesharpennoise_curve">l /proc/videograph/vpe/sharpen/noise_curve<a class="headerlink" href="#l-procvideographvpesharpennoise_curve" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the sharpen parameter of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [noise_curve[0] (0~255)]. [noise_curve [16] (0~255)] &gt; /proc/videograph/vpe/sharpen/noise_curve</td>
<td><strong><em>noise_curve[17]</em></strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/sharpen/noise_curve</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo [noise_curve[0] (0~255)]. [noise_curve [16] (0~255)] &gt; /proc/videograph/vpe/sharpen/noise_curve ===============================================================</p>
<p>noise_curve = noise_curve[0] .noise_curve[16]
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png)**</p>
<h4 id="522-vendor-api">5.2.2 Vendor API<a class="headerlink" href="#522-vendor-api" title="Permanent link">&para;</a></h4>
<p><strong>[Description]</strong></p>
<p>Get and set the sharpen parameters corresponding to current path_id.</p>
<p><strong>[Command]</strong></p>
<p>??????? <strong>Get</strong><strong></strong></p>
<p>HD_RESULT vendor_video_get(HD_PATH_ID path_id, VENDOR_VIDEO_SHARP, VENDOR_VIDEO_PARAM_SHARP  *p_param);</p>
<p>??????? <strong>Set</strong><strong></strong></p>
<p>HD_RESULT vendor_video_set(HD_PATH_ID path_id, VENDOR_VIDEO_SHARP, VENDOR_VIDEO_PARAM_SHARP *p_param);</p>
<p><strong>[</strong><strong></strong><strong>]</strong></p>
<p><strong><img alt=": typedef struct _VENDOR_VIDEO_PARAM_SHARP {
    UINT32 sharp_en;            ///&lt; Sharpness ON/OFF
    UINT32 edge_weight_src_sel; ///&lt; Select source of edge weight calculation, 0~1
    UINT32 edge_weight_th;      ///&lt; Edge weight coring threshold, 0~255
    UINT32 edge_weight_gain;    ///&lt; Edge weight gain, 0~255
    UINT32 noise_level;         ///&lt; Noise Level, 0~255
    UINT32 noise_curve[17];   ///&lt; 17 control points of noise modulation curve, 0~255
    UINT32 blend_inv_gamma;     ///&lt; Blending ratio of HPF results, 0~128
    UINT32 edge_sharp_str1;     ///&lt; Sharpen strength1 of edge region, 0~255
    UINT32 edge_sharp_str2;     ///&lt; Sharpen strength2 of edge region, 0~255
    UINT32 flat_sharp_str;      ///&lt; Sharpen strength of flat region,0~255
    UINT32 coring_th;           ///&lt; Coring threshold, 0~255
    UINT32 bright_halo_clip;    ///&lt; Bright halo clip ratio, 0~255
    UINT32 dark_halo_clip;      ///&lt; Dark halo clip ratio, 0~255
} VENDOR_VIDEO_PARAM_SHARP;
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image054.png" /></strong></p>
<h2 id="6-edge-smoothing-es">6 Edge Smoothing (ES)<a class="headerlink" href="#6-edge-smoothing-es" title="Permanent link">&para;</a></h2>
<p>This module is edge smoothing. The main function is to eliminate aliasing in the picture to improve the smoothness of the picture.</p>
<h3 id="61-overview">6.1 Overview<a class="headerlink" href="#61-overview" title="Permanent link">&para;</a></h3>
<p>The characteristics of this algorithm are to effectively smooth the edges of the input image, correct the jaggedness in the edge area of the input image, and avoid the Sharpen module to enhance the degree of jaggedness in the image edge again. The algorithm divides the input image into edge area and detail area, calculates the direction of the edge on the edge area, and then performs LPF convolution adaptively along the edge direction to smooth the edge of the image. The Edge Mask can be adjusted to avoid high-frequency areas being blurred due to smoothing.</p>
<p>Please refer to the following figure for the main process:</p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image055.png" /></p>
<h3 id="62-parameter-description">6.2 Parameter Description<a class="headerlink" href="#62-parameter-description" title="Permanent link">&para;</a></h3>
<p>Table 6?1 ES Parameter List</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Parameter</strong></td>
<td><strong>Range</strong></td>
<td><strong>Def</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><strong><em>edge_smooth_en</em></strong></td>
<td>0~1</td>
<td>0</td>
<td>Edge smooth enable</td>
</tr>
<tr>
<td><strong><em>edge_smooth_y_edeng_th_lo</em></strong></td>
<td>0~255</td>
<td>10</td>
<td>Adjust the strength threshold of detail areas in the picture<br><br>Please refer to the advanced instructions</td>
</tr>
<tr>
<td><strong><em>edge_smooth_y_edeng_th_hi</em></strong></td>
<td>0~255</td>
<td>70</td>
<td>Adjust the strength threshold of the edge area in the picture<br><br>Please refer to the advanced instructions</td>
</tr>
<tr>
<td><strong><em>edge_smooth_y_ew_lo</em></strong></td>
<td>0~255</td>
<td>2</td>
<td>Adjust the smoothing strength weight of detail areas in the picture<br><br>Please refer to the advanced instructions</td>
</tr>
<tr>
<td><strong><em>edge_smooth_y_ew_hi</em></strong></td>
<td>0~255</td>
<td>32</td>
<td>Adjust the suppression threshold for the smoothing of high-frequency areas in the picture. The larger the value, the easier it is to determine and smooth the high-frequency area. Therefore, the larger the value, the smoother the high-frequency area, and the smaller the value, the clearer the high-frequency area</td>
</tr>
<tr>
<td><strong><em>edge_smooth_y_edi_th</em></strong></td>
<td>0~63</td>
<td>31</td>
<td>Suppresses the strength of smoothing in the high-frequency region. The larger the value, the stronger the smoothing in the high-frequency region.</td>
</tr>
<tr>
<td><strong><em>edge_smooth_y_ds_str</em></strong></td>
<td>0~7</td>
<td>5</td>
<td>Adjust the strength of the smoothing filter in the picture. The larger the value, the stronger the smoothing degree.</td>
</tr>
</tbody>
</table>
<p><strong>Advance description:</strong></p>
<p>l <strong><em>edge_smooth_y_edeng_th_lo</em></strong><strong><em>,</em></strong> <strong><em>edge_smooth_y_edeng_th_hi, edge_smooth_y_ew_lo, edge_smooth_y_ew_hi</em></strong><strong><em>:</em></strong> The strength of edge smooth is controlled by the edge energy intensity of the input image, where edge_smooth_y_edeng_th_hi and edge_smooth_y_edeng_th_lo are the ranges that set the edge area and the detail area, and edge_smooth_y_ew_hi and edge_smooth_y_ew_lo set the smoothness strength of the edge area and detail area. The larger the number, the stronger of the smoothness.</p>
<p>The relationship between the edge area and the detail area is a continuous linear change, and the corresponding relationship is shown in the following figure:</p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image056.png" /></p>
<h3 id="63-setting-interface">6.3 Setting Interface<a class="headerlink" href="#63-setting-interface" title="Permanent link">&para;</a></h3>
<h4 id="631-proc">6.3.1 Proc<a class="headerlink" href="#631-proc" title="Permanent link">&para;</a></h4>
<h6 id="l-procvideographvpeesparam">l /proc/videograph/vpe/es/param<a class="headerlink" href="#l-procvideographvpeesparam" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read all edge smoothing parameters of the current camera channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write : Not support.</strong></p>
<p>Read : cat /proc/videograph/vpe/es/param</p>
<p><strong><img alt=": fd(0x00000000)
edge_smooth_en              = edge_smooth_en           
edge_smooth_out_sel         = edge_smooth_out_sel      
edge_smooth_y_edeng_th_lo   = edge_smooth_y_edeng_th_lo
edge_smooth_y_edeng_th_hi   = edge_smooth_y_edeng_th_hi
edge_smooth_y_ew_lo         = edge_smooth_y_ew_lo      
edge_smooth_y_ew_hi         = edge_smooth_y_ew_hi      
edge_smooth_y_edi_th        = edge_smooth_y_edi_th     
edge_smooth_y_ds_str         = edge_smooth_y_ds_str
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image057.png" /></strong></p>
<h6 id="l-procvideographvpeesedge_smooth_en">l /proc/videograph/vpe/es/edge_smooth_en<a class="headerlink" href="#l-procvideographvpeesedge_smooth_en" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Set the edge smooth switch of the current camera channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [edge_smooth_en (0~1)] &gt; /proc/videograph/vpe/es/edge_smooth_en</td>
<td><strong>edge_smooth_en</strong></td>
</tr>
</tbody>
</table>
<h6 id="l-procvideographvpeesedge_smooth_out_sel">l /proc/videograph/vpe/es/edge_smooth_out_sel<a class="headerlink" href="#l-procvideographvpeesedge_smooth_out_sel" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Set the edge smooth debugging switch of the current camera channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [edge_smooth_out_sel (0~1)] &gt; /proc/videograph/vpe/es/edge_smooth_out_sel</td>
<td><strong>edge_smooth_out_sel</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/es/edge_smooth_out_sel</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command : 
echo [edge_smooth_out_sel (0~1)] &gt; /proc/videograph/vpe/es/edge_smooth_out_sel
===============================================================
edge_smooth_out_sel  = edge_smooth_out_sel
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image057.png" /></strong></p>
<h6 id="l-procvideographvpeesedge_smooth_th">l /proc/videograph/vpe/es/edge_smooth_th<a class="headerlink" href="#l-procvideographvpeesedge_smooth_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Set the edge smooth related threshold of the current camera channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [y_edeng_th_lo (0~255)] [y_edeng_th_hi (0~255)] [y_ew_lo (0~255)] [y_ew_hi (0~255)] &gt; /proc/videograph/vpe/es/edge_smooth_th</td>
<td><strong>edge_smooth_y_edeng_th_l</strong><br><br><strong>edge_smooth_y_edeng_th_hi</strong><br><br><strong>edge_smooth_y_ew_lo</strong><br><br><strong>edge_smooth_y_ew_hi</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/es/edge_smooth_th</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command : 
echo [y_edeng_th_lo (0~255)] [y_edeng_th_hi (0~255)] [y_ew_lo (0~255)] [y_ew_hi (0~255)] &gt; /proc/videograph/vpe/es/edge_smooth_th ===============================================================
y_edeng_th_l = edge_smooth_y_edeng_th_l
y_edeng_th_hi = edge_smooth_y_edeng_th_hi
y_ew_lo = edge_smooth_y_ew_lo
y_ew_hi = edge_smooth_y_ew_hi
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image057.png" /></strong></p>
<h6 id="l-procvideographvpeesedge_smooth_y_edi_th">l /proc/videograph/vpe/es/edge_smooth_y_edi_th<a class="headerlink" href="#l-procvideographvpeesedge_smooth_y_edi_th" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Set the edge smooth mask related parameters of the current camera channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [edge_smooth_y_edi_th (0~63)] &gt; /proc/videograph/vpe/es/edge_smooth_y_edi_th</td>
<td><strong>edge_smooth_y_edi_th</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/es/edge_smooth_y_edi_th</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command : 
echo [edge_smooth_y_edi_th (0~63)] &gt; /proc/videograph/vpe/es/edge_smooth_ds_str
===============================================================
edge_smooth_y_edi_th = edge_smooth_y_edi_th
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image057.png" /></strong></p>
<h6 id="l-procvideographvpeesedge_smooth_y_ds_str">l /proc/videograph/vpe/es/edge_smooth_y_ds_str<a class="headerlink" href="#l-procvideographvpeesedge_smooth_y_ds_str" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Sets the filter strength of the edge smooth of the current camera channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [edge_smooth_y_ds_str (0~7)] &gt; /proc/videograph/vpe/es/edge_smooth_y_ds_str</td>
<td><strong>edge_smooth_y_ds_str</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/es/edge_smooth_y_ds_str</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": Command : 
echo [edge_smooth_y_ds_str (0~7)] &gt; /proc/videograph/vpe/es/edge_smooth_y_ds_str
===============================================================
edge_smooth_y_ds_str = edge_smooth_y_ds_str
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png" /></strong></p>
<h4 id="632-vendor-api">6.3.2 Vendor API<a class="headerlink" href="#632-vendor-api" title="Permanent link">&para;</a></h4>
<p><strong>[Description]</strong></p>
<p>Get and set the edge smooth parameters corresponding to current path_id.</p>
<p><strong>[Command]</strong></p>
<p><strong>Get</strong><strong></strong></p>
<p>HD_RESULT vendor_video_get(HD_PATH_ID path_id, VENDOR_VIDEO_EDGE_SMOOTH, VENDOR_VIDEO_PARAM_SHARP  *p_param);</p>
<p>??????? <strong>Set</strong><strong></strong></p>
<p>HD_RESULT vendor_video_set(HD_PATH_ID path_id, VENDOR_VIDEO_EDGE_SMOOTH, VENDOR_VIDEO_PARAM_SHARP *p_param);</p>
<p><strong>[Definition]</strong></p>
<p><strong><img alt=": typedef struct _VENDOR_VIDEO_PARAM_EDGE_SMOOTH {
    UINT8 edge_smooth_en;           // Edge smooth enable, ON/OFF
    UINT8 edge_smooth_y_edeng_th_lo;    // luma layer edge energy low threshold, 0~255
    UINT8 edge_smooth_y_edeng_th_hi;    // luma layer edge energy high threshold, 0~255
    UINT8 edge_smooth_y_ew_lo;      // luma layer edge weighting curve low value, 0~32
    UINT8 edge_smooth_y_ew_hi;      // luma layer edge weighting curve high value, 0~32
    UINT8 edge_smooth_y_edi_th;     // luma layer edge mask threshold, 0~63
    UINT8 edge_smooth_y_ds_str;       // luma layer edge directed smoothing filter strength, 0 ~ 7
} VENDOR_VIDEO_PARAM_EDGE_SMOOTH;
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image054.png" /></strong></p>
<h2 id="7-scaling-sca">7 Scaling (SCA)<a class="headerlink" href="#7-scaling-sca" title="Permanent link">&para;</a></h2>
<p>Inupt/Output low pass filter process with different resolution. The recommend maximum scaling down ratio is 8, and the recommend maximum scaling up ratio is 8.</p>
<h3 id="71-overview">7.1 Overview<a class="headerlink" href="#71-overview" title="Permanent link">&para;</a></h3>
<p>This is image scaling module, the major concept is interpolation and smooth process.</p>
<h3 id="72-parameter-description">7.2 Parameter Description<a class="headerlink" href="#72-parameter-description" title="Permanent link">&para;</a></h3>
<p>Table 7?1 SCA Parameter List</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Parameter</strong></td>
<td><strong>Range</strong></td>
<td><strong>Def</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><strong><em>sca_y_luma_algo_en</em></strong></td>
<td>0~3</td>
<td>0</td>
<td>Algorithm select for vertical luma scaler.<br><br>0: judge by HW algorithm<br><br>1: select the nearest point on the left side<br><br>2: select the left side point and perform low pass filter process<br><br>3: the same as option 0<br><br>It is recommend to set 0.</td>
</tr>
<tr>
<td><strong><em>sca_x_luma_algo_en</em></strong></td>
<td>0~3</td>
<td>0</td>
<td>Algorithm select for horizontal luma scaler.<br><br>0: judge by HW algorithm<br><br>1: select the nearest point on the left side<br><br>2: select the left side point and perform low pass filter process<br><br>3: the same as option 0<br><br>It is recommend to set 0.</td>
</tr>
<tr>
<td><strong><em>sca_y_chroma_algo_en</em></strong></td>
<td>0~3</td>
<td>0</td>
<td>Algorithm select for vertical chroma scaler.<br><br>0: judge by HW algorithm<br><br>1: select the nearest point on the left side<br><br>2: bilinear interpolation<br><br>3: average<br><br>It is recommend to set 0.</td>
</tr>
<tr>
<td><strong><em>sca_x_chroma_algo_en</em></strong></td>
<td>0~3</td>
<td>0</td>
<td>Algorithm select for horizontal chroma scaler.<br><br>0: judge by HW algorithm<br><br>1: select the nearest point on the left side<br><br>2: bilinear interpolation<br><br>3: average<br><br>It is recommend to set 0.</td>
</tr>
<tr>
<td><strong><em>sca_map_sel</em></strong></td>
<td>0~1</td>
<td>0</td>
<td>Select scaler source mapping format.<br><br>0: without 0.5 pixel distance shift(start from the 0th pixel of image image)<br><br>1: with 0.5 pixel distance shift(start from the 0.5th pixel of image image)<br><br>If set to 1, when the size of input image and output image is the same or the size is multiple of 2, the scaling performance of output image will similar to perform low pass filter.<br><br>It is recommend to set 0.</td>
</tr>
<tr>
<td><strong><em>sca_ceffH_0~3</em></strong></td>
<td>-128~127</td>
<td>[0, 0, 0, 64]</td>
<td>LPF coefficient in horizontal direction.<br><br>Please refer to advance description.<br><br>The software limit range is between -128~127, to reduce memory usage.</td>
</tr>
<tr>
<td><strong><em>sca_ceffv_0~3</em></strong></td>
<td>-128~127</td>
<td>[0, 0, 0, 64]</td>
<td>LPF coefficient in vertical direction.<br><br>Please refer to advance description.<br><br>The software limit range is between -128~127, to reduce memory usage.</td>
</tr>
<tr>
<td><strong><em>des_drt</em></strong></td>
<td>0, 2,3</td>
<td>0</td>
<td>YUV domain transform<br><br>0: bypass<br><br>2: PC level to TV level (Y: 16~235 / C:16~240)<br><br>3: TV level to PC level? (Y: 0~235 C:0~255)<br><br>255: decide by job parameter of AP rather than driver  <br>(default value is 255, other settings are used for debug)</td>
</tr>
</tbody>
</table>
<p><strong>Advance description:</strong></p>
<p>l <strong><em>sca_ceffH_0~3, sca_ceffV_0~3:</em></strong> LPF coefficients in horizontal direction and vertical direction. User can adjust LPF coefficients to fine tune sawtooth phenomenon in oblique line caused by scaling.</p>
<p>?Table 7?2 Scaler Low pass filter default parameter list</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Scaling Ratio (R)</strong></td>
<td><strong>HCoef0</strong></td>
<td><strong>HCoef1</strong></td>
<td><strong>HCoef2</strong></td>
<td><strong>HCoef3</strong></td>
<td><strong>VCoef0</strong></td>
<td><strong>VCoef1</strong></td>
<td><strong>VCoef2</strong></td>
<td><strong>VCoef3</strong></td>
</tr>
<tr>
<td><strong></strong> <strong>1x</strong></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>64</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>64</td>
</tr>
<tr>
<td><strong>1 &lt; R</strong> <strong></strong> <strong>1.25x</strong></td>
<td>0</td>
<td>0</td>
<td>3</td>
<td>58</td>
<td>0</td>
<td>0</td>
<td>3</td>
<td>58</td>
</tr>
<tr>
<td><strong>1.25 &lt; R</strong> <strong></strong> <strong>1.5x</strong></td>
<td>0</td>
<td>0</td>
<td>7</td>
<td>50</td>
<td>0</td>
<td>0</td>
<td>7</td>
<td>50</td>
</tr>
<tr>
<td><strong>1.5 &lt; R</strong> <strong></strong> <strong>1.75x</strong></td>
<td>0</td>
<td>0</td>
<td>11</td>
<td>42</td>
<td>0</td>
<td>0</td>
<td>11</td>
<td>42</td>
</tr>
<tr>
<td><strong>1.75 &lt; R</strong> <strong></strong> <strong>2x</strong></td>
<td>0</td>
<td>1</td>
<td>13</td>
<td>36</td>
<td>0</td>
<td>1</td>
<td>13</td>
<td>36</td>
</tr>
<tr>
<td><strong>2 &lt; R</strong> <strong></strong> <strong>2.25x</strong></td>
<td>0</td>
<td>1</td>
<td>15</td>
<td>32</td>
<td>0</td>
<td>1</td>
<td>15</td>
<td>32</td>
</tr>
<tr>
<td><strong>2.25 &lt; R</strong> <strong></strong> <strong>2.5x</strong></td>
<td>0</td>
<td>2</td>
<td>15</td>
<td>30</td>
<td>0</td>
<td>2</td>
<td>15</td>
<td>30</td>
</tr>
<tr>
<td><strong>2.5 &lt; R</strong> <strong></strong> <strong>2.75x</strong></td>
<td>0</td>
<td>3</td>
<td>15</td>
<td>28</td>
<td>0</td>
<td>3</td>
<td>15</td>
<td>28</td>
</tr>
<tr>
<td><strong>2.75 &lt; R</strong> <strong></strong> <strong>3x</strong></td>
<td>0</td>
<td>4</td>
<td>15</td>
<td>26</td>
<td>0</td>
<td>4</td>
<td>15</td>
<td>26</td>
</tr>
<tr>
<td><strong>3 &lt; R</strong> <strong></strong> <strong>3.25x</strong></td>
<td>1</td>
<td>4</td>
<td>15</td>
<td>24</td>
<td>1</td>
<td>4</td>
<td>15</td>
<td>24</td>
</tr>
<tr>
<td><strong>3.25 &lt; R</strong> <strong></strong> <strong>3.5x</strong></td>
<td>1</td>
<td>5</td>
<td>15</td>
<td>22</td>
<td>1</td>
<td>5</td>
<td>15</td>
<td>22</td>
</tr>
<tr>
<td><strong>3.5 &lt; R</strong> <strong></strong> <strong>3.75x</strong></td>
<td>2</td>
<td>7</td>
<td>14</td>
<td>18</td>
<td>2</td>
<td>7</td>
<td>14</td>
<td>18</td>
</tr>
<tr>
<td><strong>3.75 &lt; R</strong> <strong></strong> <strong>4x</strong></td>
<td>3</td>
<td>8</td>
<td>13</td>
<td>16</td>
<td>3</td>
<td>8</td>
<td>13</td>
<td>16</td>
</tr>
<tr>
<td><strong>4 &lt; R</strong> <strong></strong> <strong>5x</strong></td>
<td>4</td>
<td>8</td>
<td>13</td>
<td>14</td>
<td>4</td>
<td>8</td>
<td>13</td>
<td>14</td>
</tr>
<tr>
<td><strong>5 &lt; R</strong> <strong></strong> <strong>6x</strong></td>
<td>4</td>
<td>9</td>
<td>12</td>
<td>14</td>
<td>4</td>
<td>9</td>
<td>12</td>
<td>14</td>
</tr>
<tr>
<td><strong>6x &lt; R</strong> <strong></strong> <strong>7x</strong></td>
<td>6</td>
<td>9</td>
<td>11</td>
<td>12</td>
<td>6</td>
<td>9</td>
<td>11</td>
<td>12</td>
</tr>
<tr>
<td><strong>7x &lt; R</strong></td>
<td>6</td>
<td>9</td>
<td>11</td>
<td>12</td>
<td>6</td>
<td>9</td>
<td>11</td>
<td>12</td>
</tr>
</tbody>
</table>
<h3 id="73-setting-interface">7.3 Setting Interface<a class="headerlink" href="#73-setting-interface" title="Permanent link">&para;</a></h3>
<h4 id="731-proc">7.3.1 Proc<a class="headerlink" href="#731-proc" title="Permanent link">&para;</a></h4>
<h6 id="l-procvideographvpescaparam">l /proc/videograph/vpe/sca/param<a class="headerlink" href="#l-procvideographvpescaparam" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read all SCA parameters of the cuurent scaling ratio</p>
<p><strong>[Command]</strong></p>
<p><strong>Write : Not support.</strong></p>
<p>Read : cat /proc/videograph/vpe/sca/param</p>
<p>**![: fd(0x00000000)
sca_y_luma_algo_en = 0
sca_x_luma_algo_en = 0
sca_y_chroma_algo_en = 0
sca_x_chroma_algo_en = 0
sca_map_sel = 0
sca_1x_param = {
0, 0, 0, 64,
0, 0, 0, 64
}</p>
<p>sca_1.25x_param = {
0, 0, 0, 64,
0, 0, 0, 64
}

](NT9833x_VPE_IQ_Tuning_Guide_en.files/image057.png)**</p>
<h6 id="l-procvideographvpescactrl_param">l /proc/videograph/vpe/sca/ctrl_param<a class="headerlink" href="#l-procvideographvpescactrl_param" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Set SCA controlling parameter for specific ratio.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [sca_luma_algo (0~3)] [sca_chroma_algo (0~3)] [sca_map_sel (0~1)] &gt; /proc/videograph/vpe/sca/ctrl_param</td>
<td>index: Target ratio<br><br>The command sca_luma_algo set parameters sca_y_luma_algo_en and sca_x_luma_algo_en at the same time.<br><br>The command sca_chroma_algo set parameters<br><br>sca_y_chroma_algo_en and<br><br>sca_x_chroma_algo_en at the same time.<br><br>The command sca_map_sel set  sca_map_sel parameter.</td>
</tr>
</tbody>
</table>
<p>Read : Not support</p>
<h6 id="l-procvideographvpescalpf_param">l /proc/videograph/vpe/sca/lpf_param<a class="headerlink" href="#l-procvideographvpescalpf_param" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Set SCA low pass filter parameter for specific ratio.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [index (0~16)] [coeffH[0]] [coeffH[1]] [coeffH[2]] ]coeffH[3]] [coeffV[0]] [coeffV[1]] [coeffV[2]] [coeffV[3]] (-128 ~ 127) &gt;? /proc/videograph/vpe/sca/lpf_param</td>
<td>index: Target ratio<br><br>coeffH : sca_ceffH[4]<br><br>coeffV: sca_ceffV[4]<br><br>The software limit range is between -128~127, to reduce memory usage.</td>
</tr>
</tbody>
</table>
<p>Read : Not support</p>
<h6 id="l-procvideographvpescayuv_range">l /proc/videograph/vpe/sca/yuv_range<a class="headerlink" href="#l-procvideographvpescayuv_range" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write YUV range of SCA at each one of the channel.</p>
<p><strong></strong><strong>Parameter can be set by put job of AP depends on channel requests, it is not recommend to be set by this proc command or ioctl to avoid conflicts. This command is used for debugging.</strong></p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [fd range] &gt; /proc/videograph/vpe/sca /yuv_range<br><br>yuv_range: 0, 2, 3, 255 (disable)<br><br>disable represent AP directly control parameters</td>
<td><strong>des_drt</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/sca/yuv_range</p>
<p><strong>Output :</strong></p>
<p>**![: Command : 
echo &lt; fd range &gt;(0:bypass, 2:TV, 3:PC, 255:diable)
===============================================================</p>
<p>fd(0x40000000) yuv range = 0
fd(0x40000001) yuv range = 0
fd(0x40000002) yuv range = 0
fd(0x40000003) yuv range = 0
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png)**</p>
<h4 id="732-vendor-api">7.3.2 Vendor API<a class="headerlink" href="#732-vendor-api" title="Permanent link">&para;</a></h4>
<p><strong>[Description]</strong></p>
<p>Get and set the scaling parameters corresponding to current path_id.</p>
<p><strong>[Command]</strong></p>
<p>??????? <strong>Get</strong><strong></strong></p>
<p>HD_RESULT vendor_video_get(HD_PATH_ID path_id, VENDOR_VIDEO_SCA, VENDOR_VIDEO_PARAM_SCA_SET  *p_param);</p>
<p>??????? <strong>Set</strong><strong></strong></p>
<p>HD_RESULT vendor_video_set(HD_PATH_ID path_id, VENDOR_VIDEO_SCA, VENDOR_VIDEO_PARAM_SCA_SET *p_param);</p>
<p><strong>[Definition]</strong></p>
<p>**![: typedef struct _VENDOR_VIDEO_PARMA_SCA_CTRL {
    INT32 sca_ceffH[4];               ///&lt; LPF coefficient in horizontal direction
    INT32 sca_ceffV[4];               ///&lt; LPF coefficient in vertical direction
} VENDOR_VIDEO_PARMA_SCA_CTRL;</p>
<p>typedef struct _VENDOR_VIDEO_PARAM_SCA_SET {
    UINT8 sca_y_luma_algo_en;           ///&lt; Algorithm select for vertical luma scaler
    UINT8 sca_x_luma_algo_en;           ///&lt; Algorithm select for horizontal luma scaler
    UINT8 sca_y_chroma_algo_en;         ///&lt; Algorithm select for vertical chroma scaler
    UINT8 sca_x_chroma_algo_en;         ///&lt; Algorithm select for horizontal chroma scaler
    UINT8 sca_map_sel;                  ///&lt; Scaler source mapping format select
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_1000x_param;  ///&lt; scaling parameter for scaling ratio 1.00x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_1250x_param;  ///&lt; scaling parameter for scaling ratio 1.25x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_1500x_param;  ///&lt; scaling parameter for scaling ratio 1.50x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_1750x_param;  ///&lt; scaling parameter for scaling ratio 1.75x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_2000x_param;  ///&lt; scaling parameter for scaling ratio 2.00x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_2250x_param;  ///&lt; scaling parameter for scaling ratio 2.25x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_2500x_param;  ///&lt; scaling parameter for scaling ratio 2.50x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_2750x_param;  ///&lt; scaling parameter for scaling ratio 2.75x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_3000x_param;  ///&lt; scaling parameter for scaling ratio 3.00x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_3250x_param;  ///&lt; scaling parameter for scaling ratio 3.25x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_3500x_param;  ///&lt; scaling parameter for scaling ratio 3.50x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_3750x_param;  ///&lt; scaling parameter for scaling ratio 3.75x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_4000x_param;  ///&lt; scaling parameter for scaling ratio 4.00x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_5000x_param;  ///&lt; scaling parameter for scaling ratio 5.00x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_6000x_param;  ///&lt; scaling parameter for scaling ratio 6.00x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_7000x_param;  ///&lt; scaling parameter for scaling ratio 7.00x
    VENDOR_VIDEO_PARMA_SCA_CTRL sca_8000x_param;  ///&lt; scaling parameter for scaling ratio 8.00x
} VENDOR_VIDEO_PARAM_SCA_SET;
](NT9833x_VPE_IQ_Tuning_Guide_en.files/image058.png)**</p>
<h2 id="8-distortion-correction-engine-dce">8 Distortion Correction Engine (DCE)<a class="headerlink" href="#8-distortion-correction-engine-dce" title="Permanent link">&para;</a></h2>
<h3 id="81-overview">8.1 Overview<a class="headerlink" href="#81-overview" title="Permanent link">&para;</a></h3>
<p>This is lens distortion calibration module, it can perform calibration on wide-angle lens and fish-eye lens.</p>
<h3 id="82-dce-parameter-description">8.2 DCE Parameter Description<a class="headerlink" href="#82-dce-parameter-description" title="Permanent link">&para;</a></h3>
<p>Table 8?1 DCE Parameter List</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Parameter</strong></td>
<td><strong>Range</strong></td>
<td><strong>Def</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><strong><em>dce_mode</em></strong></td>
<td>0~1</td>
<td>0</td>
<td>Select distortion function<br><br>0: GDC lens calibration<br><br>1: 2DLUT self-define XY coordinate distortion</td>
</tr>
<tr>
<td><strong><em>lut2d_sz</em></strong></td>
<td>0~5</td>
<td>0</td>
<td>Size selection of 2D look-up table. The larger the size, the more precision to describe distortion.<br><br>0: 9x9<br><br>3: 65x65<br><br>4: 129x129<br><br>5: 257x257</td>
</tr>
<tr>
<td><strong><em>lsb_rand</em></strong></td>
<td>0~1</td>
<td>0</td>
<td>LSB 2 bit random generation for internal 10 bit-&gt;8 bit image.<br><br>0: fixed fill 0<br><br>1: random generate 0~3</td>
</tr>
<tr>
<td><strong><em>fovbound</em></strong></td>
<td>0~1</td>
<td>0</td>
<td>FOV boundary process method selection.<br><br>When the distortion result can not fill the total output image, select different way to proceed the exceed range.<br><br>0: Replace out of boundary pixels with duplicate nearest pixel<br><br>1: Replace out of boundary pixels with bound pixels</td>
</tr>
<tr>
<td><strong><em>boundy</em></strong></td>
<td>0~1023</td>
<td>0</td>
<td>Bound value for Y component(u8.2)</td>
</tr>
<tr>
<td><strong><em>boundu</em></strong></td>
<td>0~1023</td>
<td>0</td>
<td>Bound value for U component(u8.2)</td>
</tr>
<tr>
<td><strong><em>boundv</em></strong></td>
<td>0~1023</td>
<td>0</td>
<td>Bound value for V component(u8.2)</td>
</tr>
<tr>
<td><strong><em>cent_x_s</em></strong></td>
<td>213-1</td>
<td>0</td>
<td>Define lens center of x-axis.<br><br>It is recommend to set width/2.</td>
</tr>
<tr>
<td><strong><em>cent_y_s</em></strong></td>
<td>213-1</td>
<td>0</td>
<td>Define lens center of y-axis.<br><br>It is recommend to set height/2.</td>
</tr>
<tr>
<td><strong><em>xdist</em></strong></td>
<td>0~4095</td>
<td>0</td>
<td>X input distance factor, for oval shape modeling.<br><br>It is recommend to set 4095, which is suitable for most situation.</td>
</tr>
<tr>
<td><strong><em>ydist</em></strong></td>
<td>0~4095</td>
<td>0</td>
<td>Y input distance factor, for oval shape modeling.<br><br>It is recommend to set 4095, which is suitable for most situation.</td>
</tr>
<tr>
<td><strong><em>geo_lut</em></strong></td>
<td>0~65535</td>
<td>0</td>
<td>The GEO deformation gain table, a total of 65 points, indicates the magnification of each pixel in the image at a different distance from the deformation center (magnification = 65535 * input radius / output radius), the gainbase is 65535, please refer to Note 2 for the gain table example.<br><br>Value range[0, 65535]</td>
</tr>
<tr>
<td><strong><em>normfact</em></strong></td>
<td>0~255</td>
<td>128</td>
<td>Radius normalization factor.<br><br>Normfact = 1 &lt;&lt; (normbit + 7) / R2</td>
</tr>
<tr>
<td><strong><em>normbit</em></strong></td>
<td>0~31</td>
<td>31</td>
<td>Radius normalization shift bit.<br><br>R2 = (width/2)2+(height/2)2<br><br>The total bit number of R2 is normbit.<br><br>Example: 9602+5402 = 1213200 (21 bits)</td>
</tr>
<tr>
<td><strong><em>fovgain</em></strong></td>
<td>0~4095</td>
<td>0</td>
<td>Adjust the scaling ratio of the final distortion coordinate to preserve FOV.<br><br>Scale down factor for FOV preservation.<br><br>Due to it will effect the calibration performance, it is recommend to set 1024.</td>
</tr>
<tr>
<td><strong><em>hfact</em></strong></td>
<td>0 ~ 224 -1</td>
<td>0</td>
<td>Horizontal scaling factor for 2DLut scaling up(u0.24).<br><br>((2DLUT horizontal pixel number  1) &lt;&lt; 24) / (width  1)</td>
</tr>
<tr>
<td><strong><em>vfact</em></strong></td>
<td>0 ~ 224 -1</td>
<td>0</td>
<td>Vertical scaling factor for 2DLut scaling up(u0.24).<br><br>((2DLUT vertical pixel number  1) &lt;&lt; 24) / (height  1)</td>
</tr>
<tr>
<td><strong><em>xofs_i</em></strong></td>
<td>0~127</td>
<td>0</td>
<td>2DLut x offset, integer part.<br><br>It is recommend to set 0, if user need to adjust the DCE performance, user need to change the 2DLUT value.</td>
</tr>
<tr>
<td><strong><em>xofs_f</em></strong></td>
<td>0~224-1</td>
<td>0</td>
<td>2DLut x offset, fraction part.<br><br>It is recommend to set 0, if user need to adjust the DCE performance, user need to change the 2DLUT value.</td>
</tr>
<tr>
<td><strong><em>yofs_i</em></strong></td>
<td>0~127</td>
<td>0</td>
<td>2DLut y offset, integer part.<br><br>It is recommend to set 0, if user need to adjust the DCE performance, user need to change the 2DLUT value.</td>
</tr>
<tr>
<td><strong><em>yofs_f</em></strong></td>
<td>0~224-1</td>
<td>0</td>
<td>2DLut y offset, fraction part.<br><br>It is recommend to set 0, if user need to adjust the DCE performance, user need to change the 2DLUT value.</td>
</tr>
</tbody>
</table>
<p><strong>[Note 1]</strong></p>
<p>Adjust geo_fov_gain, the left side is 1024, the right side is 1320, you can observe the increase in the field of view on the right side.</p>
<p><img alt="new_fovgain1024" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image059.jpg" />?<img alt="new_fovgain1320" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image060.jpg" /></p>
<p><strong>[Note 2]</strong></p>
<p>The example of the GEO deformation gain table, from left to right, corresponds to the deformation amount from the center of the image to the edge. This parameter group indicates that the larger the deformation amount toward the edge is. This example is a barrel deformation correction.</p>
<p>R is the distance from the center of the image to each point. This distance can be understood as the radius of the circle.</p>
<p>Ri represents the radius of each point of the input (before correction) image.</p>
<p>Ro represents the radius of each point of the output (corrected) image.</p>
<p>RoMax represents the longest distance from the center of the output image to the four corners. If the center of the image falls at 1/2 of the width and height, the four corners are all equal, and they are the longest distances. <img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image061.png" /><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image062.png" /><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image063.png" /></p>
<h3 id="83-setting-interface">8.3 Setting Interface<a class="headerlink" href="#83-setting-interface" title="Permanent link">&para;</a></h3>
<h4 id="831-proc">8.3.1 Proc<a class="headerlink" href="#831-proc" title="Permanent link">&para;</a></h4>
<h6 id="l-procvideographvpedcedump_info">l /proc/videograph/vpe/dce/dump_info<a class="headerlink" href="#l-procvideographvpedcedump_info" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read all DCE parameters at the current camera channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write : Not support.</strong></p>
<p>Read : cat /proc/videograph/vpe/dce/dump_info</p>
<p>**![: dce_en = 0
dce_mode = 1
lut2d_sz = 3
lut2d_vaddr = 0x0000000000000000
lut2d_paddr = 0x0
lsb_rand = 0
fovbound = 1
boundy = 512
boundu = 512
boundv = 512
cent_x_s = 720
cent_y_s = 720
xdist = 4095
ydist = 4095
normfact = 0
normbit = 0
fovgain = 1024
hfact = 745654
vfact = 745654
xofs_i = 0
xofs_f = 0
yofs_i = 0
yofs_f = 0
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 
geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0 geo_lut[i]=0</p>
<p>](NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png)**</p>
<h6 id="l-procvideographvpedcech_en">l /proc/videograph/vpe/dce/ch_en<a class="headerlink" href="#l-procvideographvpedcech_en" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read or write the enable status of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [ dc_en 0~1 ] &gt; /proc/videograph/vpe/dce/ch_en</td>
<td><strong>dc_en</strong></td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p><strong>cat /proc/videograph/vpe/dce/ch_en</strong></p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": dc_en = 0" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image053.png" /></strong></p>
<h4 id="832-vendor-api">8.3.2 Vendor API<a class="headerlink" href="#832-vendor-api" title="Permanent link">&para;</a></h4>
<p><strong>[Description]</strong></p>
<p>Get and set the dce parameters corresponding to current path_id.</p>
<p><strong>[Command]</strong></p>
<p>??????? Get</p>
<p>HD_RESULT vendor_video_get(HD_PATH_ID path_id, VENDOR_VIDEOPROC_DEWARP_INFO, VENDOR_DEWARP_INFO *p_param);</p>
<p>??????? Set</p>
<p>HD_RESULT c(HD_PATH_ID path_id, VENDOR_ VENDOR_VIDEOPROC_DEWARP_INFO, VENDOR_DEWARP_INFO *p_param);</p>
<p><strong>[Define]</strong></p>
<p>**![: typedef struct _VENDOR_DEWARP_CTRL {
    BOOL dc_enable;
    BOOL dctg_enable;
} VENDOR_DEWARP_CTRL;</p>
<p>typedef enum _VENDOR_DEWARP_MODE {
    VENDOR_DEWARP_DEWARP_MODE_GDC   = 0,
    VENDOR_DEWARP_DEWARP_MODE_2DLUT = 1,
    ENUM_DUMMY4WORD(VENDOR_DEWARP_DEWARP_MODE)
} VENDOR_DEWARP_MODE;</p>
<p>typedef struct _VENDOR_DEWARP_DGC_PARM {
    INT32 cent_x_s;     ///&lt; Lens center of x axis (signed)
    INT32 cent_y_s;     ///&lt; Lens center of y axis (signed)
    UINT32 lens_r;      ///&lt; Radius of Lens
    UINT32 xdist;       ///&lt; X input distance factor, for oval shape modeling
    UINT32 ydist;       ///&lt; Y input distance factor, for oval shape modeling
    UINT8 normfact;     ///&lt; Radius normalization factor (u1.7)
    UINT8 normbit;           ///&lt; Radius normalization shift bit
    UINT16 geo_lut[VENDOR_GEO_LUT_X]; ///&lt; GDC look-up table
} VENDOR_DEWARP_DGC_PARM;</p>
<p>typedef struct _VENDOR_DEWARP_2DLUT_PARM {
    UINT8 lut2d_sz;     ///&lt; Size selection of 2D look-up table, 0:9x9, 3:65x65
    UINT32 hfact;       ///&lt; Horizontal scaling factor for 2DLut scaling up (u0.24)
    UINT32 vfact;       ///&lt; Vertical scaling factor for 2DLut scaling up (u0.24)
    UINT8 xofs_i;       ///&lt; 2DLUT x offset, integer part
    UINT32 xofs_f;      ///&lt; 2DLUT x offset, fraction part
    UINT8 yofs_i;       ///&lt; 2DLUT y offset, integer part
    UINT32 yofs_f;      ///&lt; 2DLUT xy offset, fraction part
} VENDOR_DEWARP_2DLUT_PARM;</p>
<p>typedef struct _VENDOR_DEWARP_FOV_PARM {
    UINT8 fovbound;     ///&lt; FOV boundary process method selection
    UINT16 boundy;      ///&lt; Bound value for Y component (u8.2)
    UINT16 boundu;      ///&lt; Bound value for U component (u8.2)
    UINT16 boundv;      ///&lt; Bound value for V component (u8.2)
    UINT16 fovgain;     ///&lt; Scale down factor for FOV preservation (u2.10)
} VENDOR_DEWARP_FOV_PARM;</p>
<p>](NT9833x_VPE_IQ_Tuning_Guide_en.files/image064.png)**</p>
<p>**![: typedef struct _VENDOR_DEWARP_INFO {
    VENDOR_DEWARP_MODE mode;
    VENDOR_DEWARP_DGC_PARM dgc;
    VENDOR_DEWARP_2DLUT_PARM lut2d;
    VENDOR_DEWARP_FOV_PARM fov;
} VENDOR_DEWARP_INFO;</p>
<p>typedef struct _VENDOR_DEWARP_2DLUT_TABLE {
    UINT32 tbl[VENDOR_GEO_LUT];
} VENDOR_DEWARP_2DLUT_TABLE;</p>
<p>](NT9833x_VPE_IQ_Tuning_Guide_en.files/image058.png)**</p>
<h2 id="9-dc-table-generatordctg">9 DC Table Generator(DCTG)<a class="headerlink" href="#9-dc-table-generatordctg" title="Permanent link">&para;</a></h2>
<h3 id="91-overview">9.1 Overview<a class="headerlink" href="#91-overview" title="Permanent link">&para;</a></h3>
<p>For perspective projection application, in order to increase the convenience of usage, DCTG module let user to set the desired angle and size with an instinct way to generate DCTG parameters automatically. Whenever this function is enabled, manual set DCE 2D-LUT function will be invalid.</p>
<p><strong>[Note]</strong></p>
<p>??When using DCTG function, user needs to set two parameters enable, one is dc_enable, the other is dctg_en.</p>
<p>Please refer to the following description:</p>
<p>The theta is the top/bottom angle.</p>
<p>The phi is the rotate angle.</p>
<p>The rot_y is the rotate offset of (x, z) plane towards Y-axis.</p>
<p>The rot_z is the rotate offset of (x, y) plane towards Z-axis.</p>
<p>Generate LUT:</p>
<p>Define the rotate angle of FOV by phi_st/phi_ed, and then rotate to FOV location by rot_y.</p>
<p>Define the top/bottom angle of FOV by theta_st/theta_ed, and then rotate to FOV location by rot_z.</p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image065.jpg" /><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image066.jpg" /></p>
<h3 id="92-parameter-description">9.2 Parameter Description<a class="headerlink" href="#92-parameter-description" title="Permanent link">&para;</a></h3>
<p>Table 9?1 DCTG parameter list</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Parameter</strong></td>
<td><strong>Range</strong></td>
<td><strong>Def</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><strong><em>dctg_en</em></strong></td>
<td>0-1</td>
<td>0</td>
<td>DCTG ON/OFF</td>
</tr>
<tr>
<td><strong><em>mount_type</em></strong></td>
<td>0~1</td>
<td>0</td>
<td>Camera mount type.<br><br>0: Ceiling mount<br><br>1: Floor mount</td>
</tr>
<tr>
<td><strong><em>lut2d_sz</em></strong></td>
<td>0, 3</td>
<td>3</td>
<td>Select size of 2D look-up table, this parameter must the same with DCE parameter.<br><br>0: 9x9<br><br>3: 65x65</td>
</tr>
<tr>
<td><strong><em>lens_r</em></strong></td>
<td>0~215-1</td>
<td>0</td>
<td>Valid radius of fish-eye lens, the unit is pixel.<br><br>Please refer to advance description.</td>
</tr>
<tr>
<td><strong><em>lens_x_st</em></strong></td>
<td>0~214-1</td>
<td>0</td>
<td>The start x position of fish-eye lens at the source image, the unit is pixel.</td>
</tr>
<tr>
<td><strong><em>lens_y_st</em></strong></td>
<td>0~214-1</td>
<td>0</td>
<td>The start y position of fish-eye lens at the source image, the unit is pixel.</td>
</tr>
<tr>
<td><strong><em>theta_st</em></strong></td>
<td>-180 ~ 180<br><br>(-*pi ~ *pi)</td>
<td>0</td>
<td>FOV theta start radian.</td>
</tr>
<tr>
<td><strong><em>theta_ed</em></strong></td>
<td>-180 ~ 180<br><br>(-*pi ~ *pi)</td>
<td>0</td>
<td>FOV theta end radian.<br><br>theta_end &gt; theta_st: normal image<br><br>theta_end &lt; theta_st: flip image</td>
</tr>
<tr>
<td><strong><em>phi_st</em></strong></td>
<td>-360 ~ 360  <br>(-2*pi ~ 2*pi)</td>
<td>0</td>
<td>OV phi start radian.</td>
</tr>
<tr>
<td><strong><em>phi_ed</em></strong></td>
<td>-360 ~ 360  <br>(-2*pi ~ 2*pi)</td>
<td>0</td>
<td>FOV phi end radian.<br><br>(-2*pi ~ 2*pi)<br><br>phi_end &gt; theta_st: normal image<br><br>phi_end &lt; theta_st: flip image</td>
</tr>
<tr>
<td><strong><em>rot_z</em></strong></td>
<td>-360 ~ 360  <br>(-2*pi ~ 2*pi)</td>
<td>0</td>
<td>Z-axis rotate radian</td>
</tr>
<tr>
<td><strong><em>rot_y</em></strong></td>
<td>-360 ~ 360  <br>(-2*pi ~ 2*pi)</td>
<td>0</td>
<td>Y-zxis rotate radian.</td>
</tr>
</tbody>
</table>
<p><strong>Advance description:</strong></p>
<p>l <strong><em>lens_r:</em></strong> The valid radius of fish-eye device.</p>
<p>l <strong><em>lens_x_st :</em></strong> The start x position of fish-eye lens at the source image, the unit is pixel.</p>
<p>l <strong><em>lens_y_st :</em></strong>  The start y position of fish-eye lens at the source image, the unit is pixel.</p>
<p><img alt="" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image067.png" /></p>
<h3 id="93-setting-interface">9.3 Setting Interface<a class="headerlink" href="#93-setting-interface" title="Permanent link">&para;</a></h3>
<h4 id="931-proc">9.3.1 Proc<a class="headerlink" href="#931-proc" title="Permanent link">&para;</a></h4>
<h6 id="l-procvideographvpedctgdump_info">l /proc/videograph/vpe/dctg/dump_info<a class="headerlink" href="#l-procvideographvpedctgdump_info" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Read all dctg parameters of the current channel.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write : Not support.</strong></p>
<p>Read : cat /proc/videograph/vpe/dctg/dump_info</p>
<p><strong><img alt=": fd(0x00000000)
dctg_en = 0
mount_type = 1
lut2d_sz = 3
lens_r = 540
lens_x_st = 0(0)
lens_y_st = 0(0)
theta_st = 45(51471)
theda_ed = 90(102943)
phi_st = -40(-45753)
phi_ed = 40(45752)
rot_z = 0
rot_y = 0
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image068.png" /></strong></p>
<h6 id="l-procvideographvpedctgch_en">l /proc/videograph/vpe/dctg/ch_en<a class="headerlink" href="#l-procvideographvpedctgch_en" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>??????? Set dctg enable.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [dctg_en] &gt; /proc/videograph/vpe/dctg/ch_en</td>
<td>dctg_en: dctg enable</td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/dctg/ch_en</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": dctg_en = 1" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image057.png" /></strong></p>
<h6 id="l-procvideographvpedctgphi">l /proc/videograph/vpe/dctg/phi<a class="headerlink" href="#l-procvideographvpedctgphi" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Set FOV phi start radian</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [st] [ed] &gt; /proc/videograph/vpe/dctg/phi</td>
<td>st: FOV phi start radian<br><br>ed : FOV phi end radian<br><br>angle range: -360 ~ 360</td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/dctg/phi</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": echo &lt;st&gt; &lt;ed&gt; (range -360~360)
phi_st degree= -40
phi_ed degree = 40
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image057.png" /></strong></p>
<h6 id="l-procvideographvpedctgrot">l /proc/videograph/vpe/dctg/rot<a class="headerlink" href="#l-procvideographvpedctgrot" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Set Z-axis and Y-zxis rotate radian.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong>Target Parameter</strong></td>
</tr>
<tr>
<td>echo [z] [y] &gt; /prc/videograph/vpe/dctg/rot</td>
<td>z: Z-axis rotate radian.<br><br>y: Y-zxis rotate radian<br><br>angle range: -360 ~ 360</td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/dctg/rot</p>
<p><strong>Output :</strong></p>
<p><img alt=": echo &lt;z&gt; &lt;y&gt; (range -360~360)
rot_z degree = 0
rot_y degree = 0
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image057.png" /></p>
<h6 id="l-procvideographvpedctgtheta">l /proc/videograph/vpe/dctg/theta<a class="headerlink" href="#l-procvideographvpedctgtheta" title="Permanent link">&para;</a></h6>
<p><strong>[Description]</strong></p>
<p>Set FOV theta start radian.</p>
<p><strong>[Command]</strong></p>
<p><strong>Write :</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>proc command</strong></td>
<td><strong></strong></td>
</tr>
<tr>
<td>echo [st] [ed] &gt; /prc/videograph/vpe/dctg/theta</td>
<td>st: FOV theta start radian.<br><br>ed : FOV theta end radian<br><br>angle range: -180 ~ 180</td>
</tr>
</tbody>
</table>
<p><strong>Read :</strong></p>
<p>cat /proc/videograph/vpe/dctg/theta</p>
<p><strong>Output :</strong></p>
<p><strong><img alt=": echo &lt;st&gt; &lt;ed&gt; (range -180~180)
theta_st degree = 45
theda_ed degree = 90
" src="NT9833x_VPE_IQ_Tuning_Guide_en.files/image069.png" /></strong></p>
<h4 id="932-vendor-api">9.3.2 Vendor API<a class="headerlink" href="#932-vendor-api" title="Permanent link">&para;</a></h4>
<p><strong>[Description]</strong></p>
<p>Get and set the dctg parameters corresponding to current path_id.</p>
<p><strong>[Command]</strong></p>
<p>??????? Get</p>
<p>HD_RESULT vendor_videoproc_get(HD_PATH_ID path_id, VENDOR_VIDEOPROC_DEWARP_DCTG_INFO, VENDOR_DEWARP_DCTG_INFO *p_param);</p>
<p>??????? Set</p>
<p>HD_RESULT vendor_videoproc_set(HD_PATH_ID path_id, VENDOR_VIDEOPROC_DEWARP_DCTG_INFO, VENDOR_DEWARP_DCTG_INFO *p_param);</p>
<p><strong>[Define]</strong></p>
<p>**![: typedef struct _VENDOR_DEWARP_CTRL {
    BOOL dc_enable;
    BOOL dctg_enable;
} VENDOR_DEWARP_CTRL;</p>
<p>typedef struct _VENDOR_DEWARP_DCTG_INFO {
        VENDOR_DEWARP_DCTG_MODE mode;
        VENDOR_DEWARP_DCTG_LENS_PARM lens;
        VENDOR_DEWARP_DCTG_FOV_PARM fov;
} VENDOR_DEWARP_DCTG_INFO;</p>
<p>typedef enum _VENDOR_DEWARP_DCTG_MODE {
    VENDOR_DEWARP_DCTG_MODE_90  = 0,
    VENDOR_DEWARP_DCTG_MODE_360 = 1,
    ENUM_DUMMY4WORD(VENDOR_DEWARP_DCTG_MODE)
} VENDOR_DEWARP_DCTG_MODE;</p>
<p>typedef struct _VENDOR_DEWARP_DCTG_LENS_PARM {
        UINT8 mount_type;         ///&lt; Camera mount type. 0:Ceiling mount, 1:Floor mount
        UINT8 lut2d_sz;         ///&lt; Size selection of 2D look-up table, 0:9x9, 3:65x65, should the same with DCE setting.
        UINT32 lens_r;          ///&lt; Radius of Lens
        UINT32 lens_x_st;     ///&lt; Lens start x position at a source image
        UINT32 lens_y_st;     ///&lt; Lens start y position at a source image
} VENDOR_DEWARP_DCTG_LENS_PARM;</p>
<p>typedef struct _VENDOR_DEWARP_DCTG_FOV_PARM {
        INT32 theta_st;           ///&lt; FOV theta start radian (s4.16) Range: -<em>pi ~ </em>pi
        INT32 theta_ed;          ///&lt; FOV theta end radian (s4.16) Range: -<em>pi ~ </em>pi
        INT32 phi_st;                  ///&lt; FOV phi start radian (s4.16) Range: -2<em>pi ~ 2</em>pi
        INT32 phi_ed;                ///&lt; FOV phi end radian (s4.16) Range: -2<em>pi ~ 2</em>pi
        INT32 rot_z;               ///&lt; Z-axis rotate radian (s4.16) Range: -2<em>pi ~ 2</em>pi
        INT32 rot_y;                   ///&lt; Y-axis rotate radian (s4.16) Range: -2<em>pi ~ 2</em>pi
} VENDOR_DEWARP_DCTG_FOV_PARM;</p>
<p>](NT9833x_VPE_IQ_Tuning_Guide_en.files/image070.png)**</p>
<h2 id="10-revise-history">10 Revise History<a class="headerlink" href="#10-revise-history" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Version</strong></td>
<td><strong>Date</strong></td>
<td><strong>Advisor</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td>0.1.00</td>
<td>2021/01/20</td>
<td>Allen Hsu</td>
<td>First version.</td>
</tr>
<tr>
<td>0.2.00</td>
<td>2021/3/26</td>
<td>Allen Hsu</td>
<td>Add description of Vendor command.</td>
</tr>
<tr>
<td>0.3.00</td>
<td>2022/4/11</td>
<td>Mina Wang</td>
<td>Add description for dce and dctg</td>
</tr>
</tbody>
</table>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="NT9833X_IVE_User_Guide_en.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: IVE User Guide" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              IVE User Guide
            </div>
          </div>
        </a>
      
      
        
        <a href="NT9833x_LCD_IQ_Tuning_Guide_en.html" class="md-footer__link md-footer__link--next" aria-label="Next: LCD IQ Tuning Guide" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              LCD IQ Tuning Guide
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["search.highlight", "navigation.tabs"], "search": "assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.37e9125f.min.js"></script>
      
    
  </body>
</html>